[{"id":0,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/%E7%9B%91%E6%8E%A7/metrics/prometheus/questions/01/","title":"01","section":"questions","content":" å¦‚ä½•åœ¨kubernetesä¸­å¦‚ä½•æŠ“å–æœåŠ¡çš„metrics # prometheus ä¸­è‡ªå¸¦çš„å‡ ä¸ªmetrics # prometheus å¦‚ä½•å°†æ•°æ®å‘é€ç»™è¿œç«¯å­˜å‚¨ # ä»‹ç»ä¸€ä¸‹prometheus WAL æœºåˆ¶ # prometheus ä½¿ç”¨ä»€ä¹ˆå‹ç¼©ç®—æ³•å‹ç¼©æ•°æ® # "},{"id":1,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/%E7%9B%91%E6%8E%A7/metrics/prometheus/develop/","title":"develop","section":"prometheus","content":" prometheus æºç è§£è¯» # "},{"id":2,"href":"/docs/go/first/","title":"First","section":"Go","content":" Golangçš„åŸºæœ¬ä»‹ç» # "},{"id":3,"href":"/docs/go/","title":"Go","section":"æ–‡æ¡£é¦–é¡µ","content":"æœ¬ç« èŠ‚ä»‹ç» Hugo çš„åŸºæœ¬ä½¿ç”¨ã€‚\n"},{"id":4,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/develop/client-go/informer/","title":"informer","section":"client-go","content":" "},{"id":5,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/operate/install/","title":"install","section":"operate","content":"æ¬¢è¿ä½¿ç”¨kubernetes\n"},{"id":6,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/%E7%9B%91%E6%8E%A7/metrics/prometheus/operator/install/","title":"install","section":"operator","content":" prometheus æºç è§£è¯» # "},{"id":7,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/operate/install/kubernetes/","title":"kubernetes","section":"install","content":" éƒ¨ç½²å‰å‡†å¤‡ # ä¿®æ”¹æœºå™¨å hostnamectl set-hostname master å…³é—­swap swapoff -a sed -i \u0026#39;/swap / s/^\\(.*\\)$/#\\1/g\u0026#39; /etc/fstab free -m # æ£€æŸ¥æ˜¯å¦å…³é—­swap sshå…è®¸Root ç™»é™† vim /etc/ssh/sshd_config å¢åŠ  Port 22 PermitRootLogin yes passwd # è®¾ç½®root å¯†ç  å…³é—­é˜²ç«å¢™ sudo ufw disable ä¿®æ”¹apt æºåœ°å€ cp /etc/apt/sources.list /etc/apt/sources.list.bak # ä½¿ç”¨vim æ›¿æ¢/etc/apt/sources.listä¸­çš„èµ„æºåœ°å€ vim /etc/apt/sources.list deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse # æ›´æ–° vim /etc/resolv.conf # æ·»åŠ ä¸€ä¸‹ä¸¤è¡Œ nameserver 8.8.8.8 nameserver 8.8.4.4 apt-get update æ·»åŠ  Kubernetes apt å­˜å‚¨åº“ sudo tee /etc/apt/sources.list.d/kubernetes.list \u0026lt;\u0026lt;-\u0026#39;EOF\u0026#39; deb https://mirrors.aliyun.com/kubernetes/apt kubernetes-xenial main EOF apt-get update The following signatures couldn\u0026#39;t be verified because the public key is not available: NO_PUBKEY B53DC80D13EDEF05 NO_PUBKEY FEEA9169307EA071 # å¦‚æœæŠ¥é”™ä»¥ä¸Šé”™è¯¯ï¼Œæ‰§è¡Œä¸‹é¢ä¸€æ¡å‘½ä»¤ recv-keys æ˜¯æŠ¥é”™ç°å®çš„NO_PUBKEY sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys FEEA9169307EA071 å®‰è£…kubectl kubeadm kubelet sudo apt-get install -y kubelet=1.22.2-00 kubeadm=1.22.2-00 kubectl=1.22.2-00 å®‰è£…docker apt-get install -y docker.io systemctl enable docker master # å®‰è£…master èŠ‚ç‚¹ kubeadm init \\ --apiserver-advertise-address=192.168.31.239 \\ --image-repository registry.aliyuncs.com/google_containers \\ --kubernetes-version v1.22.0 \\ --service-cidr=10.96.0.0/12 \\ --pod-network-cidr=10.244.0.0/16 node # å®‰è£…node èŠ‚ç‚¹ kubeadm join 192.168.31.208:6443 --token u1soc8.1xyeqbzptpvvjz8f --discovery-token-ca-cert-hash sha256:3406b992b2c05f27b398a81375082a72aa2a823fd82616e4f8cb6f2a24370bb3 # kubeadm init åˆå§‹åŒ–å®Œæˆä¼šæ‰“å°åˆ°console ä¸Š # å¯ä»¥é€šè¿‡ kubeadm token create --print-join-command æŸ¥çœ‹ "},{"id":8,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/","title":"Kubernetes","section":"äº‘åŸç”Ÿ","content":"kubernetes æ¶æ„å›¾\nGroupã€Versionã€Resource æ ¸å¿ƒæ•°æ®ç»“æ„ # æ•´ä¸ªKubernetes ä½“ç³»æ¶æ„ä¸­ï¼Œèµ„æºæ˜¯Kubernetesæœ€é‡è¦çš„æ¦‚å¿µï¼Œå¯ä»¥è¯´Kubernetsçš„ç”Ÿæ€ç³»ç»Ÿéƒ½å›´ç»•ç€èµ„æºè¿ä½œã€‚\nKubernetesç³»ç»Ÿè™½ç„¶æœ‰ç›¸å½“å¤æ‚å’Œä¼—å¤šçš„åŠŸèƒ½ï¼Œä½†æ˜¯å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªèµ„æºæ§åˆ¶ç³»ç»Ÿâ€”â€”æ³¨å†Œã€ç®¡ç†ã€è°ƒåº¦èµ„æºå¹¶ç»´æŠ¤èµ„æºçš„çŠ¶æ€\nKubernetes å°†èµ„æºåˆ†ç»„å’Œç‰ˆæœ¬åŒ–ï¼Œå½¢æˆGroupï¼ˆèµ„æºç»„ï¼‰ã€Versionï¼ˆèµ„æºç‰ˆæœ¬ï¼‰ã€Resourceï¼ˆèµ„æºï¼‰\nGroupï¼šèµ„æºç»„ï¼Œåœ¨Kubernetes API Server ä¸­ä¹Ÿå¯ç§°å…¶ä¸ºAPIGroup Versionï¼šèµ„æºç‰ˆæœ¬ï¼Œåœ¨Kubernets API Server ä¸­ä¹Ÿå¯ç§°å…¶ä¸ºAPIVersions Resourceï¼šèµ„æºï¼Œåœ¨Kubernetes API Server ä¸­ä¹Ÿå¯ç§°å…¶ä¸ºAPIResource Kindï¼šèµ„æºç§ç±»ï¼Œæè¿°Resource çš„ç§ç±»ï¼Œä¸Resourceä¸ºåŒä¸€çº§åˆ« Kubernetes ç³»ç»Ÿæ”¯æŒå¤šä¸ªGroupã€‚æ¯ä¸ªGroupæ”¯æŒå¤šä¸ªVersionï¼Œæ¯ä¸ªVersionæ”¯æŒå¤šä¸ªResourceï¼ŒåŒæ—¶éƒ¨åˆ†èµ„æºä¼šæ‹¥æœ‰è‡ªå·±çš„å­èµ„æº\nèµ„æºç»„ã€èµ„æºç‰ˆæœ¬ã€èµ„æºã€å­èµ„æºçš„å®Œæ•´è¡¨è¾¾å½¢å¼ä¸º\u0026lt;group\u0026gt;/\u0026lt;version\u0026gt;/\u0026lt;resource\u0026gt;/\u0026lt;status\u0026gt;,ä»¥å¸¸ç”¨çš„Deploymentèµ„æºä¸ºä¾‹ï¼Œå…¶å®Œæ•´è¡¨ç°å½¢å¼ä¸ºapps/v1/deployments/status\nèµ„æºå¯¹è±¡ç”± èµ„æºç»„ + èµ„æºç‰ˆæœ¬ + èµ„æºç§ç±»ç»„æˆï¼Œä¾‹å¦‚Deployment èµ„æºæ˜¯å®ä¾‹åŒ–åæ‹¥æœ‰èµ„æºç»„ã€èµ„æºç‰ˆæœ¬åŠèµ„æºç§ç±»ï¼Œå…¶è¡¨ç°å½¢å¼ä¸º/,Kind=,ä¾‹å¦‚apps/v1ï¼ŒKind= Deployment\næ¯ä¸€ä¸ªèµ„æºéƒ½æ‹¥æœ‰ä¸€å®šæ•°é‡çš„èµ„æºæ“ä½œæ–¹æ³•ï¼ˆå³Verbsï¼‰ï¼Œèµ„æºæ“ä½œæ–¹æ³•ç”¨äºEtcdé›†ç¾¤å­˜å‚¨ä¸­å¯¹èµ„æºå¯¹è±¡çš„å¢ã€åˆ ã€æ”¹ã€æŸ¥æ“ä½œã€‚ç›®å‰Kubernetesç³»ç»Ÿæ”¯æŒ8ç§èµ„æºæ“ä½œæ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯createã€deleteã€deletecollectionã€getã€listã€patchã€updateã€watchæ“ä½œæ–¹æ³•\n"},{"id":9,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/%E7%9B%91%E6%8E%A7/metrics/prometheus/operator/install/kubernetes-services/","title":"kubernetes service","section":"install","content":"scrape_configs: - job_name: \u0026#39;kubernetes-pods\u0026#39; kubernetes_sd_configs: - role: pod relabel_configs: # æå– annotation ä¸­çš„ metrics_path - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_path] action: replace target_label: __metrics_path__ # æå– annotation ä¸­çš„ scrape interval - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_scrape_interval] action: replace target_label: scrape_interval # æå– annotation ä¸­çš„ scrape timeout - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_scrape_timeout] action: replace target_label: scrape_timeout # é€šè¿‡ annotation è®¾ç½®æ˜¯å¦å¯ç”¨ scrape - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_scrape] action: keep regex: \u0026#34;true\u0026#34; # æå– annotation ä¸­çš„ metrics ç«¯å£ - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_port] action: replace target_label: __address__ regex: (.+) replacement: $1 apiVersion: v1 kind: Pod metadata: name: example-app annotations: prometheus.io/scrape: \u0026#34;true\u0026#34; prometheus.io/path: \u0026#34;/metrics\u0026#34; prometheus.io/port: \u0026#34;8080\u0026#34; prometheus.io/scrape_interval: \u0026#34;15s\u0026#34; prometheus.io/scrape_timeout: \u0026#34;10s\u0026#34; spec: containers: - name: example image: example-app ports: - containerPort: 8080 "},{"id":10,"href":"/docs/%E7%AE%97%E6%B3%95/%E5%9B%9E%E6%BA%AF/1.-n-%E7%9A%87%E5%90%8E/","title":"N çš‡å","section":"å›æº¯","content":" N çš‡å # leetcode 51\næŒ‰ç…§å›½é™…è±¡æ£‹çš„è§„åˆ™ï¼Œçš‡åå¯ä»¥æ”»å‡»ä¸ä¹‹å¤„åœ¨åŒä¸€è¡Œæˆ–åŒä¸€åˆ—æˆ–åŒä¸€æ–œçº¿ä¸Šçš„æ£‹å­ã€‚\nn çš‡åé—®é¢˜ ç ”ç©¶çš„æ˜¯å¦‚ä½•å°† n ä¸ªçš‡åæ”¾ç½®åœ¨ nÃ—n çš„æ£‹ç›˜ä¸Šï¼Œå¹¶ä¸”ä½¿çš‡åå½¼æ­¤ä¹‹é—´ä¸èƒ½ç›¸äº’æ”»å‡»ã€‚\nç»™ä½ ä¸€ä¸ªæ•´æ•° n ï¼Œè¿”å›æ‰€æœ‰ä¸åŒçš„ n çš‡åé—®é¢˜ çš„è§£å†³æ–¹æ¡ˆã€‚\næ¯ä¸€ç§è§£æ³•åŒ…å«ä¸€ä¸ªä¸åŒçš„ n çš‡åé—®é¢˜ çš„æ£‹å­æ”¾ç½®æ–¹æ¡ˆï¼Œè¯¥æ–¹æ¡ˆä¸­ \u0026lsquo;Q\u0026rsquo; å’Œ \u0026lsquo;.\u0026rsquo; åˆ†åˆ«ä»£è¡¨äº†çš‡åå’Œç©ºä½ã€‚\nç¤ºä¾‹ 1ï¼š è¾“å…¥ï¼šn = 4\nè¾“å‡ºï¼š[[\u0026quot;.Q..\u0026quot;,\u0026quot;\u0026hellip;Q\u0026quot;,\u0026ldquo;Q\u0026hellip;\u0026rdquo;,\u0026quot;..Q.\u0026quot;],[\u0026quot;..Q.\u0026quot;,\u0026ldquo;Q\u0026hellip;\u0026rdquo;,\u0026quot;\u0026hellip;Q\u0026quot;,\u0026quot;.Q..\u0026quot;]]\nè§£é‡Šï¼šå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œ4 çš‡åé—®é¢˜å­˜åœ¨ä¸¤ä¸ªä¸åŒçš„è§£æ³•ã€‚\nç¤ºä¾‹ 2ï¼š\nè¾“å…¥ï¼šn = 1\nè¾“å‡ºï¼š[[\u0026ldquo;Q\u0026rdquo;]]\nfunc solveNQueens(n int) [][]string { var result [][]string board := make([][]rune, n) for i := range board{ board[i] = make([]rune, n) for j := range board[i]{ board[i][j] = \u0026#39;.\u0026#39; } } var dfs func(row int, cols, diag1, diag2 map[int]bool) dfs = func(row int, cols, diag1, diag2 map[int]bool){ if row == n{ var solution []string for _, r := range board{ solution = append(solution, string(r)) } result = append(result, solution) return } for col := 0; col \u0026lt; n; col ++{ if cols[col] || diag1[row-col] || diag2[row+col]{ continue } board[row][col] = \u0026#39;Q\u0026#39; cols[col], diag1[row-col], diag2[col + row] = true, true, true dfs(row + 1, cols, diag1, diag2) board[row][col] = \u0026#39;.\u0026#39; delete(cols, col) delete(diag1, row -col) delete(diag2, row + col) } } dfs(0, make(map[int]bool), make(map[int]bool), make(map[int]bool)) return result } "},{"id":11,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/%E7%9B%91%E6%8E%A7/metrics/prometheus/operator/","title":"operator","section":"prometheus","content":" prometheus æºç è§£è¯» # "},{"id":12,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/%E7%9B%91%E6%8E%A7/metrics/prometheus/","title":"prometheus","section":"metrics","content":"prometheus æ¶æ„å›¾\n"},{"id":13,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/%E7%9B%91%E6%8E%A7/metrics/prometheus/operator/install/prometheus/","title":"prometheus","section":"install","content":" prometheus çš„å®‰è£… # ä½¿ç”¨ kube-prometheus å®‰è£…\nç»„ä»¶ # prometheus-adpter prometheus-operator alertmanager blackbox-exporter grafana prometheus kube-state-metrics node-exporter kubernetetsControllerPlan "},{"id":14,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/%E7%9B%91%E6%8E%A7/metrics/prometheus/develop/source-code/","title":"prometheus source code","section":"develop","content":" æ¨¡å—åˆ—è¡¨ # discoveryManagerScrape æœåŠ¡å‘ç° scrapeManager queryEngine ruleManager discoveryManagerNotify notifierManager tracingManager "},{"id":15,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/develop/reources/","title":"resources","section":"develop","content":" Groupã€Versionã€Resource æ ¸å¿ƒæ•°æ®ç»“æ„ # æ•´ä¸ªKubernetes ä½“ç³»æ¶æ„ä¸­ï¼Œèµ„æºæ˜¯Kubernetesæœ€é‡è¦çš„æ¦‚å¿µï¼Œå¯ä»¥è¯´Kubernetsçš„ç”Ÿæ€ç³»ç»Ÿéƒ½å›´ç»•ç€èµ„æºè¿ä½œã€‚\nKubernetesç³»ç»Ÿè™½ç„¶æœ‰ç›¸å½“å¤æ‚å’Œä¼—å¤šçš„åŠŸèƒ½ï¼Œä½†æ˜¯å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªèµ„æºæ§åˆ¶ç³»ç»Ÿâ€”â€”æ³¨å†Œã€ç®¡ç†ã€è°ƒåº¦èµ„æºå¹¶ç»´æŠ¤èµ„æºçš„çŠ¶æ€\nKubernetes å°†èµ„æºåˆ†ç»„å’Œç‰ˆæœ¬åŒ–ï¼Œå½¢æˆGroupï¼ˆèµ„æºç»„ï¼‰ã€Versionï¼ˆèµ„æºç‰ˆæœ¬ï¼‰ã€Resourceï¼ˆèµ„æºï¼‰\nGroupï¼šèµ„æºç»„ï¼Œåœ¨Kubernetes API Server ä¸­ä¹Ÿå¯ç§°å…¶ä¸ºAPIGroup Versionï¼šèµ„æºç‰ˆæœ¬ï¼Œåœ¨Kubernets API Server ä¸­ä¹Ÿå¯ç§°å…¶ä¸ºAPIVersions Resourceï¼šèµ„æºï¼Œåœ¨Kubernetes API Server ä¸­ä¹Ÿå¯ç§°å…¶ä¸ºAPIResource Kindï¼šèµ„æºç§ç±»ï¼Œæè¿°Resource çš„ç§ç±»ï¼Œä¸Resourceä¸ºåŒä¸€çº§åˆ« Kubernetes ç³»ç»Ÿæ”¯æŒå¤šä¸ªGroupã€‚æ¯ä¸ªGroupæ”¯æŒå¤šä¸ªVersionï¼Œæ¯ä¸ªVersionæ”¯æŒå¤šä¸ªResourceï¼ŒåŒæ—¶éƒ¨åˆ†èµ„æºä¼šæ‹¥æœ‰è‡ªå·±çš„å­èµ„æº\nèµ„æºç»„ã€èµ„æºç‰ˆæœ¬ã€èµ„æºã€å­èµ„æºçš„å®Œæ•´è¡¨è¾¾å½¢å¼ä¸º\u0026lt;group\u0026gt;/\u0026lt;version\u0026gt;/\u0026lt;resource\u0026gt;/\u0026lt;status\u0026gt;,ä»¥å¸¸ç”¨çš„Deploymentèµ„æºä¸ºä¾‹ï¼Œå…¶å®Œæ•´è¡¨ç°å½¢å¼ä¸ºapps/v1/deployments/status\nèµ„æºå¯¹è±¡ç”± èµ„æºç»„ + èµ„æºç‰ˆæœ¬ + èµ„æºç§ç±»ç»„æˆï¼Œä¾‹å¦‚Deployment èµ„æºæ˜¯å®ä¾‹åŒ–åæ‹¥æœ‰èµ„æºç»„ã€èµ„æºç‰ˆæœ¬åŠèµ„æºç§ç±»ï¼Œå…¶è¡¨ç°å½¢å¼ä¸º/,Kind=,ä¾‹å¦‚apps/v1ï¼ŒKind= Deployment\næ¯ä¸€ä¸ªèµ„æºéƒ½æ‹¥æœ‰ä¸€å®šæ•°é‡çš„èµ„æºæ“ä½œæ–¹æ³•ï¼ˆå³Verbsï¼‰ï¼Œèµ„æºæ“ä½œæ–¹æ³•ç”¨äºEtcdé›†ç¾¤å­˜å‚¨ä¸­å¯¹èµ„æºå¯¹è±¡çš„å¢ã€åˆ ã€æ”¹ã€æŸ¥æ“ä½œã€‚ç›®å‰Kubernetesç³»ç»Ÿæ”¯æŒ8ç§èµ„æºæ“ä½œæ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯createã€deleteã€deletecollectionã€getã€listã€patchã€updateã€watchæ“ä½œæ–¹æ³•\nKubernetesçš„èµ„æºä¹Ÿåˆ†ä¸¤ç§ï¼Œåˆ†åˆ«æ˜¯Kubernetes Resourceï¼ˆkubernetes å†…ç½®èµ„æºï¼‰ å’Œ Custom Resourceï¼ˆè‡ªå®šä¹‰èµ„æºï¼‰ã€‚å¼€å‘è€…é€šè¿‡CRDï¼ˆå³Custom Resource Definitionsï¼‰å¯å®ç°è‡ªå®šä¹‰èµ„æºï¼Œå®ƒå…è®¸ç”¨æˆ·å°†è‡ªå·±å®šä¹‰çš„èµ„æºæ·»åŠ åˆ°Kubenetes ç³»ç»Ÿä¸­ï¼Œå¹¶åƒä½¿ç”¨kubernetes å†…ç½®èµ„æºä¸€æ ·ä½¿ç”¨å®ƒä»¬\n"},{"id":16,"href":"/docs/linux/%E7%BD%91%E7%BB%9C/tcp%E5%8D%8F%E8%AE%AE/","title":"tcp åè®®","section":"ç½‘ç»œ","content":" è¯¦è§£ä¸‰æ¬¡æ¡æ‰‹ï¼Œå››æ¬¡æŒ¥æ‰‹ # ä¸‰æ¬¡æ¡æ‰‹ï¼ˆå»ºç«‹è¿æ¥ï¼‰ # TCPé‡‡ç”¨ ä¸‰æ¬¡æ¡æ‰‹ï¼ˆThree-Way Handshakeï¼‰ è¿‡ç¨‹æ¥å»ºç«‹å¯é è¿æ¥ï¼š\nå®¢æˆ·ç«¯å‘é€ SYNï¼ˆåŒæ­¥åºåˆ—å·ï¼‰ï¼š å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ª SYN æŠ¥æ–‡ï¼Œè¡¨ç¤ºè¯·æ±‚å»ºç«‹è¿æ¥ã€‚ è¯¥æŠ¥æ–‡çš„ SYN=1ï¼Œå¹¶åŒ…å«ä¸€ä¸ªåˆå§‹åºåˆ—å· seq=xã€‚ æœåŠ¡å™¨å›åº” SYN-ACKï¼š æœåŠ¡å™¨æ”¶åˆ° SYN åï¼Œå‘é€ SYN=1, ACK=1ï¼Œå¹¶é™„å¸¦è‡ªå·±çš„åˆå§‹åºåˆ—å· seq=yï¼Œç¡®è®¤å®¢æˆ·ç«¯çš„ seq=x+1ã€‚ å®¢æˆ·ç«¯å›åº” ACKï¼š å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„ SYN-ACK åï¼Œå‘é€ ACK=1ï¼Œç¡®è®¤ seq=y+1ï¼ŒåŒæ—¶æºå¸¦ seq=x+1ã€‚ å››æ¬¡æŒ¥æ‰‹ï¼ˆæ–­å¼€è¿æ¥ï¼‰ # TCP é‡‡ç”¨ å››æ¬¡æŒ¥æ‰‹ï¼ˆFour-Way Handshakeï¼‰ æ–­å¼€è¿æ¥ï¼š\nå®¢æˆ·ç«¯å‘é€ FINï¼š å®¢æˆ·ç«¯æƒ³è¦æ–­å¼€è¿æ¥ï¼Œå‘é€ FIN=1ï¼Œè¡¨ç¤ºæ— æ•°æ®å¯å‘ã€‚ æœåŠ¡å™¨å‘é€ ACKï¼š æœåŠ¡å™¨æ”¶åˆ° FIN åï¼Œå›å¤ ACK=1ï¼Œä½†å¯èƒ½ä»æœ‰æœªå‘é€çš„æ•°æ®ã€‚ æœåŠ¡å™¨å‘é€ FINï¼š æœåŠ¡å™¨ç¡®è®¤æ•°æ®å‘é€å®Œæ¯•ï¼Œå‘é€ FIN=1 æ–­å¼€è¿æ¥ã€‚ å®¢æˆ·ç«¯å‘é€ ACKï¼Œå®Œæˆæ–­å¼€ï¼š å®¢æˆ·ç«¯ç¡®è®¤ FINï¼Œå›å¤ ACK=1ï¼Œè¿æ¥æ­£å¼å…³é—­ã€‚ "},{"id":17,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/questions/%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%97%A0%E7%8A%B6%E6%80%81%E6%9C%8D%E5%8A%A1kubernetes%E7%9A%84%E5%86%85%E9%83%A8%E6%B5%81%E7%A8%8B/","title":"åˆ›å»ºä¸€ä¸ªæ— çŠ¶æ€æœåŠ¡","section":"questions","content":" åˆ›å»ºä¸€ä¸ªdeploymentèµ„æº # å½“åˆ›å»ºä¸€ä¸ªdeploymentæ—¶ï¼Œkubernetes å†…éƒ¨æ˜¯å¦‚ä½•å¤„ç†çš„ï¼Ÿ\nåˆ›å»º Deployment èµ„æº ç”¨æˆ·é€šè¿‡ kubectl apply æˆ– API ç›´æ¥åˆ›å»ºä¸€ä¸ª Deployment èµ„æºã€‚ kube-apiserver æ¥æ”¶åˆ°è¯·æ±‚åï¼Œå°† Deployment å¯¹è±¡å†™å…¥ etcd æ•°æ®åº“ã€‚ controller-manager å¤„ç† Deployment kube-controller-manager ç›‘å¬ Deployment èµ„æºï¼ˆé€šè¿‡ watch æœºåˆ¶ï¼‰ã€‚ å‘ç°æ–°å»ºçš„ Deploymentï¼ŒDeploymentController è®¡ç®—å‡ºéœ€è¦åˆ›å»ºçš„ ReplicaSetï¼ˆå¦‚æœæ˜¯æ›´æ–°ï¼Œè¿˜ä¼šè¿›è¡Œæ»šåŠ¨å‡çº§ï¼‰ã€‚ controller-manager é€šè¿‡ kube-apiserver åˆ›å»º ReplicaSet èµ„æºã€‚ controller-manager å¤„ç† ReplicaSet kube-controller-manager ç›‘å¬ ReplicaSet èµ„æºï¼ˆé€šè¿‡ watch æœºåˆ¶ï¼‰ã€‚ å‘ç°æ–°å»ºçš„ ReplicaSetï¼ŒReplicaSetController è®¡ç®—å‡ºéœ€è¦åˆ›å»ºçš„ Podã€‚ controller-manager é€šè¿‡ kube-apiserver åˆ›å»º Pod èµ„æºã€‚ kube-scheduler è¿›è¡Œè°ƒåº¦ kube-scheduler ç›‘å¬ Pod èµ„æºçš„å˜æ›´ï¼ˆé€šè¿‡ watch æœºåˆ¶ï¼‰ã€‚ å‘ç° Pod å¤„äº Pending çŠ¶æ€ï¼Œè°ƒåº¦å™¨è®¡ç®—å‡ºåˆé€‚çš„ Nodeï¼ˆæ ¹æ® CPUã€å†…å­˜ã€è°ƒåº¦ç­–ç•¥ç­‰ï¼‰ã€‚ kube-scheduler é€šè¿‡ kube-apiserver æ›´æ–° Pod çš„ spec.nodeNameï¼Œåˆ†é…åˆ°åˆé€‚çš„èŠ‚ç‚¹ã€‚ kubelet è´Ÿè´£æ‹‰èµ·å®¹å™¨ kubelet ç›‘å¬ kube-apiserverï¼Œå‘ç°è¢«åˆ†é…åˆ°è‡ªå·±èŠ‚ç‚¹çš„ Podã€‚ kubelet é€šè¿‡ Container Runtime Interface (CRI) æ‰§è¡Œï¼š åˆ›å»ºç½‘ç»œï¼ˆè°ƒç”¨ CNI æ’ä»¶ï¼Œåˆ†é… IPï¼‰ã€‚ æŒ‚è½½å­˜å‚¨ï¼ˆè°ƒç”¨ CSI æ’ä»¶ï¼ŒæŒ‚è½½ Volumeï¼‰ã€‚ å¯åŠ¨å®¹å™¨ï¼ˆè°ƒç”¨ CRIï¼Œä½¿ç”¨ containerd æˆ– Docker ç­‰åˆ›å»ºå®¹å™¨ï¼‰ã€‚ kubelet é€šè¿‡ kube-apiserver æ›´æ–° Pod çŠ¶æ€ï¼ˆRunningï¼‰ã€‚ åˆ›å»ºä¸€ä¸ªserviceèµ„æº # kube-proxy ç›‘å¬ kube-apiserver ä¸Šçš„ service èµ„æºçš„åˆ›å»ºï¼š å½“ kube-proxy ç›‘è§†åˆ°æ–°çš„æœåŠ¡èµ„æºï¼ˆServiceï¼‰æ—¶ï¼Œå®ƒä¼šæ ¹æ® Service ä¸­çš„æ ‡ç­¾ï¼ˆlabelsï¼‰æ¥ç­›é€‰å‡ºç¬¦åˆæ¡ä»¶çš„ Podã€‚è¿™äº› Pod æ˜¯ä¸è¯¥ Service ç›¸å…³è”çš„ç›®æ ‡ï¼ˆåç«¯ï¼‰ã€‚é€šè¿‡è¿™äº›ä¿¡æ¯ï¼Œkube-proxy åˆ›å»ºä¸€ä¸ª Endpoints èµ„æºå¯¹è±¡ï¼ŒæŒ‡å‘è¿™äº› Podã€‚ kube-proxy ç›‘å¬ endpoint èµ„æºçš„å˜åŒ–ï¼š Endpoints èµ„æºå¯¹è±¡è¢«åˆ›å»ºæˆ–æ›´æ–°ï¼Œkube-proxy å°±ä¼šåŠ¨æ€åœ°æ ¹æ®æ–°çš„ Endpoint ä¿¡æ¯æ¥ä¿®æ”¹å…¶ç½‘ç»œè§„åˆ™ï¼ˆå¦‚ iptables æˆ– ipvsï¼‰ã€‚ kube-proxy æ ¹æ® Endpoint ä¸­çš„ Pod åœ°å€åˆ›å»ºæˆ–æ›´æ–°ç›¸åº”çš„ iptables æˆ– ipvs è§„åˆ™ï¼Œè¿™æ ·æµé‡å°±å¯ä»¥é€šè¿‡æ­£ç¡®çš„åç«¯ Pod è¿›è¡Œè·¯ç”±ã€‚ "},{"id":18,"href":"/docs/%E7%AE%97%E6%B3%95/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F/1.-%E8%85%90%E7%83%82%E7%9A%84%E6%A9%98%E5%AD%90/","title":"è…çƒ‚çš„æ©˜å­","section":"æ‹“æ‰‘æ’åº","content":" è…çƒ‚çš„æ©˜å­ # leetcode 994\nåœ¨ç»™å®šçš„ m x n ç½‘æ ¼ grid ä¸­ï¼Œæ¯ä¸ªå•å…ƒæ ¼å¯ä»¥æœ‰ä»¥ä¸‹ä¸‰ä¸ªå€¼ä¹‹ä¸€ï¼š\nå€¼ 0 ä»£è¡¨ç©ºå•å…ƒæ ¼ï¼› å€¼ 1 ä»£è¡¨æ–°é²œæ©˜å­ï¼› å€¼ 2 ä»£è¡¨è…çƒ‚çš„æ©˜å­ã€‚ æ¯åˆ†é’Ÿï¼Œè…çƒ‚çš„æ©˜å­ å‘¨å›´ 4 ä¸ªæ–¹å‘ä¸Šç›¸é‚» çš„æ–°é²œæ©˜å­éƒ½ä¼šè…çƒ‚ã€‚\nè¿”å› ç›´åˆ°å•å…ƒæ ¼ä¸­æ²¡æœ‰æ–°é²œæ©˜å­ä¸ºæ­¢æ‰€å¿…é¡»ç»è¿‡çš„æœ€å°åˆ†é’Ÿæ•°ã€‚å¦‚æœä¸å¯èƒ½ï¼Œè¿”å› -1 ã€‚\nç¤ºä¾‹ 1ï¼š\nè¾“å…¥ï¼šgrid = [[2,1,1],[1,1,0],[0,1,1]]\nè¾“å‡ºï¼š4\nç¤ºä¾‹ 2ï¼š\nè¾“å…¥ï¼šgrid = [[2,1,1],[0,1,1],[1,0,1]]\nè¾“å‡ºï¼š-1\nè§£é‡Šï¼šå·¦ä¸‹è§’çš„æ©˜å­ï¼ˆç¬¬ 2 è¡Œï¼Œ ç¬¬ 0 åˆ—ï¼‰æ°¸è¿œä¸ä¼šè…çƒ‚ï¼Œå› ä¸ºè…çƒ‚åªä¼šå‘ç”Ÿåœ¨ 4 ä¸ªæ–¹å‘ä¸Šã€‚\nç¤ºä¾‹ 3ï¼š\nè¾“å…¥ï¼šgrid = [[0,2]]\nè¾“å‡ºï¼š0\nè§£é‡Šï¼šå› ä¸º 0 åˆ†é’Ÿæ—¶å·²ç»æ²¡æœ‰æ–°é²œæ©˜å­äº†ï¼Œæ‰€ä»¥ç­”æ¡ˆå°±æ˜¯ 0 ã€‚\ntype Point struct { x, y, time int } func orangesRotting(grid [][]int) int { rows, cols := len(grid), len(grid[0]) freshCount := 0 queue := []*Point{} directions := [][]int{{1,0}, {-1, 0}, {0, 1}, {0, -1}} totalTime := 0 for i:=0; i \u0026lt; (rows); i++{ for j := 0; j \u0026lt; (cols); j++{ if grid[i][j] == 2{ queue = append(queue, \u0026amp;Point{i, j, 0}) }else if grid[i][j] == 1{ freshCount ++ } } } for len(queue) != 0{ p := queue[0] queue = queue[1:] for _, direction := range directions { newX, newY := p.x + direction[0], p.y + direction[1] if newX \u0026gt;= 0 \u0026amp;\u0026amp; newX \u0026lt; rows \u0026amp;\u0026amp; newY \u0026gt;= 0 \u0026amp;\u0026amp; newY \u0026lt; cols \u0026amp;\u0026amp; grid[newX][newY] == 1{ grid[newX][newY] = 2 queue = append(queue, \u0026amp;Point{newX, newY, p.time + 1}) freshCount -- totalTime = p.time + 1 } } } if freshCount != 0{ return -1 } return totalTime } "},{"id":19,"href":"/docs/%E7%AE%97%E6%B3%95/%E5%8F%8C%E6%8C%87%E9%92%88/1.%E6%8E%A5%E9%9B%A8%E6%B0%B4/","title":"æ¥é›¨æ°´","section":"åŒæŒ‡é’ˆ","content":" æ¥é›¨æ°´ # leetcode 45\nç»™å®š n ä¸ªéè´Ÿæ•´æ•°è¡¨ç¤ºæ¯ä¸ªå®½åº¦ä¸º 1 çš„æŸ±å­çš„é«˜åº¦å›¾ï¼Œè®¡ç®—æŒ‰æ­¤æ’åˆ—çš„æŸ±å­ï¼Œä¸‹é›¨ä¹‹åèƒ½æ¥å¤šå°‘é›¨æ°´ã€‚\nç¤ºä¾‹ 1ï¼š\nè¾“å…¥ï¼šheight = [0,1,0,2,1,0,1,3,2,1,2,1] è¾“å‡ºï¼š6 è§£é‡Šï¼šä¸Šé¢æ˜¯ç”±æ•°ç»„ [0,1,0,2,1,0,1,3,2,1,2,1] è¡¨ç¤ºçš„é«˜åº¦å›¾ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥æ¥ 6 ä¸ªå•ä½çš„é›¨æ°´ï¼ˆè“è‰²éƒ¨åˆ†è¡¨ç¤ºé›¨æ°´ï¼‰ã€‚ ç¤ºä¾‹ 2ï¼š\nè¾“å…¥ï¼šheight = [4,2,0,3,2,5] è¾“å‡ºï¼š9\nfunc trap(height []int) int { left, right := 0, len(height) -1 leftMax, rightMax := 0, 0 totalWater := 0 for left \u0026lt; right{ if height[left] \u0026lt; height[right]{ if height[left] \u0026lt; leftMax{ totalWater += leftMax - height[left] }else{ leftMax = height[left] } left ++ } else{ if height[right] \u0026gt;= rightMax{ rightMax = height[right] }else{ totalWater += rightMax - height[right] } right-- } } fmt.Println(left, right) return totalWater } "},{"id":20,"href":"/docs/%E7%AE%97%E6%B3%95/%E4%BA%8C%E5%8F%89%E6%A0%91/1.-%E5%89%8D%E5%BA%8F%E9%81%8D%E5%8E%86/","title":"å‰åºéå†","section":"äºŒå‰æ ‘","content":" å‰åºéå† # æ ¹ â†’ å·¦å­æ ‘ â†’ å³å­æ ‘\nfunc preOrderTraversal(root *TreeNode) []int { if root == nil { return []int{} } stack, res := []*TreeNode{root}, []int{} for len(stack) \u0026gt; 0 { node := stack[len(stack)-1] stack = stack[:len(stack)-1] res = append(res, node.Val) if node.Right != nil { stack = append(stack, node.Right) } if node.Left != nil { stack = append(stack, node.Left) } } return res } "},{"id":21,"href":"/docs/%E7%AE%97%E6%B3%95/%E5%A0%86/1.-%E6%95%B0%E6%8D%AE%E6%B5%81%E7%9A%84%E4%B8%AD%E4%BD%8D%E6%95%B0/","title":"æ•°æ®æµçš„ä¸­ä½æ•°","section":"å †","content":" æ•°æ®æµçš„ä¸­ä½æ•° # leetcode 295\nä¸­ä½æ•°æ˜¯æœ‰åºæ•´æ•°åˆ—è¡¨ä¸­çš„ä¸­é—´å€¼ã€‚å¦‚æœåˆ—è¡¨çš„å¤§å°æ˜¯å¶æ•°ï¼Œåˆ™æ²¡æœ‰ä¸­é—´å€¼ï¼Œä¸­ä½æ•°æ˜¯ä¸¤ä¸ªä¸­é—´å€¼çš„å¹³å‡å€¼ã€‚\nä¾‹å¦‚ arr = [2,3,4] çš„ä¸­ä½æ•°æ˜¯ 3 ã€‚\nä¾‹å¦‚ arr = [2,3] çš„ä¸­ä½æ•°æ˜¯ (2 + 3) / 2 = 2.5 ã€‚\nå®ç° MedianFinder ç±»:\nMedianFinder() åˆå§‹åŒ– MedianFinder å¯¹è±¡ã€‚\nvoid addNum(int num) å°†æ•°æ®æµä¸­çš„æ•´æ•° num æ·»åŠ åˆ°æ•°æ®ç»“æ„ä¸­ã€‚\ndouble findMedian() è¿”å›åˆ°ç›®å‰ä¸ºæ­¢æ‰€æœ‰å…ƒç´ çš„ä¸­ä½æ•°ã€‚ä¸å®é™…ç­”æ¡ˆç›¸å·® 10-5 ä»¥å†…çš„ç­”æ¡ˆå°†è¢«æ¥å—ã€‚\nç¤ºä¾‹ 1ï¼š\nè¾“å…¥ [\u0026ldquo;MedianFinder\u0026rdquo;, \u0026ldquo;addNum\u0026rdquo;, \u0026ldquo;addNum\u0026rdquo;, \u0026ldquo;findMedian\u0026rdquo;, \u0026ldquo;addNum\u0026rdquo;, \u0026ldquo;findMedian\u0026rdquo;]\n[[], [1], [2], [], [3], []] è¾“å‡º [null, null, null, 1.5, null, 2.0]\nè§£é‡Š MedianFinder medianFinder = new MedianFinder();\nmedianFinder.addNum(1); // arr = [1]\nmedianFinder.addNum(2); // arr = [1, 2]\nmedianFinder.findMedian(); // è¿”å› 1.5 ((1 + 2) / 2)\nmedianFinder.addNum(3); // arr[1, 2, 3]\nmedianFinder.findMedian(); // return 2.0\ntype MaxHeap struct{ nums []int } func (h MaxHeap) Len() int { return len(h.nums) } func (h MaxHeap) Less(i, j int) bool { return h.nums[i] \u0026gt; h.nums[j] } // å¤§æ ¹å † func (h MaxHeap) Swap(i, j int) { h.nums[i], h.nums[j] = h.nums[j], h.nums[i] } func (h *MaxHeap) Push(x interface{}) { h.nums = append(h.nums, x.(int)) } func (h *MaxHeap) Pop() interface{} { old := h.nums n := len(old) x := old[n-1] h.nums = old[:n-1] return x } // å°æ ¹å †ï¼ˆå­˜è¾ƒå¤§çš„ä¸€åŠæ•°æ®ï¼‰ type MinHeap struct{ nums []int } func (h MinHeap) Len() int { return len(h.nums) } func (h MinHeap) Less(i, j int) bool { return h.nums[i] \u0026lt; h.nums[j] } // å°æ ¹å † func (h MinHeap) Swap(i, j int) { h.nums[i], h.nums[j] = h.nums[j], h.nums[i] } func (h *MinHeap) Push(x interface{}) { h.nums = append(h.nums, x.(int)) } func (h *MinHeap) Pop() interface{} { old := h.nums n := len(old) x := old[n-1] h.nums = old[:n-1] return x } // æ•°æ®æµä¸­ä½æ•° type MedianFinder struct { maxHeap *MaxHeap // å¤§æ ¹å † minHeap *MinHeap // å°æ ¹å † } // åˆå§‹åŒ– func Constructor() MedianFinder { return MedianFinder{ maxHeap: \u0026amp;MaxHeap{}, minHeap: \u0026amp;MinHeap{}, } } // æ·»åŠ æ•°å­— func (mf *MedianFinder) AddNum(num int) { heap.Push(mf.maxHeap, num) // å…ˆæ”¾å…¥å¤§æ ¹å † heap.Push(mf.minHeap, heap.Pop(mf.maxHeap)) // å¹³è¡¡åˆ°å°æ ¹å † // å¦‚æœå°æ ¹å †å…ƒç´ å¤šäºå¤§æ ¹å †ï¼Œåˆ™è°ƒæ•´ if mf.minHeap.Len() \u0026gt; mf.maxHeap.Len() { heap.Push(mf.maxHeap, heap.Pop(mf.minHeap)) } } // è·å–ä¸­ä½æ•° func (mf *MedianFinder) FindMedian() float64 { if mf.maxHeap.Len() \u0026gt; mf.minHeap.Len() { return float64(mf.maxHeap.nums[0]) } return float64(mf.maxHeap.nums[0]+mf.minHeap.nums[0]) / 2.0 } "},{"id":22,"href":"/docs/%E7%AE%97%E6%B3%95/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/","title":"è´ªå¿ƒç®—æ³•","section":"ç®—æ³•","content":"æœ¬ç« èŠ‚ä»‹ç»è´ªå¿ƒç®—æ³•\nåŸºæœ¬æ€æƒ³ # å±€éƒ¨æœ€ä¼˜è§£ï¼šåœ¨æ¯ä¸€æ­¥å†³ç­–ä¸­ï¼Œé€‰æ‹©å½“å‰çŠ¶æ€ä¸‹æœ€ä¼˜çš„å±€éƒ¨è§£ æ— åæ•ˆæ€§ï¼šå½“å‰çš„é€‰æ‹©ä¸ä¼šå½±å“åç»­çš„é€‰æ‹©ï¼Œå³ä¸ä¾èµ–äºæœªæ¥çš„é€‰æ‹© å¸Œæœ›å¯¼è‡´å…¨å±€æœ€ä¼˜è§£ï¼šé€šè¿‡ä¸€ç³»åˆ—å±€éƒ¨æœ€ä¼˜è§£ï¼Œæœ€ç»ˆå¾—åˆ°å…¨å±€æœ€ä¼˜è§£ é€‚ç”¨æ¡ä»¶ # è´ªå¿ƒé€‰æ‹©æ€§è´¨ï¼šé—®é¢˜çš„å…¨å±€æœ€ä¼˜è§£å¯ä»¥é€šè¿‡ä¸€ç³»åˆ—å±€éƒ¨æœ€ä¼˜é€‰æ‹©å¾—åˆ° æœ€ä¼˜å­ç»“æ„ï¼šé—®é¢˜çš„æœ€ä¼˜è§£åŒ…å«å­é—®é¢˜çš„æœ€ä¼˜è§£ æ­¥éª¤ # é—®é¢˜åˆ†è§£ï¼šå°†é—®é¢˜åˆ†ä¸ºè‹¥å¹²ä¸ªå­é—®é¢˜ å±€éƒ¨æœ€ä¼˜é€‰æ‹©ï¼šå¯¹æ¯ä¸ªå­é—®é¢˜ï¼Œé€‰æ‹©ä¸€ä¸ªå±€éƒ¨æœ€ä¼˜è§£ åˆå¹¶è§£ï¼šå°†å±€éƒ¨æœ€ä¼˜è§£åˆå¹¶ä¸ºå…¨å±€è§£ ç»å…¸åº”ç”¨ # æ´»åŠ¨é€‰æ‹©é—®é¢˜ï¼šé€‰æ‹©æœ€å¤šçš„äº’ä¸é‡å çš„æ´»åŠ¨ã€‚ éœå¤«æ›¼ç¼–ç ï¼šæ„é€ æœ€ä¼˜å‰ç¼€ç¼–ç ã€‚ æœ€å°ç”Ÿæˆæ ‘ï¼šå¦‚Primç®—æ³•å’ŒKruskalç®—æ³•ã€‚ æœ€çŸ­è·¯å¾„é—®é¢˜ï¼šå¦‚Dijkstraç®—æ³•ã€‚ èƒŒåŒ…é—®é¢˜çš„åˆ†æ•°ç‰ˆæœ¬ï¼šé€‰æ‹©å•ä½ä»·å€¼æœ€é«˜çš„ç‰©å“ã€‚ ä¼˜ç¼ºç‚¹ # ä¼˜ç‚¹\nç®€å•æ˜“å®ç° é€šå¸¸å…·æœ‰è¾ƒé«˜çš„æ•ˆç‡ ç¼ºç‚¹ ä¸æ€»æ˜¯èƒ½å¾—åˆ°å…¨å±€æœ€ä¼˜è§£ éœ€è¦é—®é¢˜å…·æœ‰è´ªå¿ƒé€‰æ‹©æ€§è´¨å’Œæœ€ä¼˜å­ç»“æ„ "},{"id":23,"href":"/docs/%E7%AE%97%E6%B3%95/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/first/","title":"è·³è·ƒæ¸¸æˆ 2","section":"è´ªå¿ƒç®—æ³•","content":" è·³è·ƒæ¸¸æˆ 2 # leetcode 45\nç»™å®šä¸€ä¸ªé•¿åº¦ä¸º n çš„ 0 ç´¢å¼•æ•´æ•°æ•°ç»„ numsã€‚åˆå§‹ä½ç½®ä¸º nums[0]ã€‚\næ¯ä¸ªå…ƒç´  nums[i] è¡¨ç¤ºä»ç´¢å¼• i å‘åè·³è½¬çš„æœ€å¤§é•¿åº¦ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœä½ åœ¨ nums[i] å¤„ï¼Œä½ å¯ä»¥è·³è½¬åˆ°ä»»æ„ nums[i + j] å¤„:\n0 \u0026lt;= j \u0026lt;= nums[i] i + j \u0026lt; n è¿”å›åˆ°è¾¾ nums[n - 1] çš„æœ€å°è·³è·ƒæ¬¡æ•°ã€‚ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹å¯ä»¥åˆ°è¾¾ nums[n - 1]ã€‚\nç¤ºä¾‹ 1:\nè¾“å…¥: nums = [2,3,1,1,4] è¾“å‡º: 2 è§£é‡Š: è·³åˆ°æœ€åä¸€ä¸ªä½ç½®çš„æœ€å°è·³è·ƒæ•°æ˜¯ 2ã€‚ ä»ä¸‹æ ‡ä¸º 0 è·³åˆ°ä¸‹æ ‡ä¸º 1 çš„ä½ç½®ï¼Œè·³ 1 æ­¥ï¼Œç„¶åè·³ 3 æ­¥åˆ°è¾¾æ•°ç»„çš„æœ€åä¸€ä¸ªä½ç½®ã€‚ ç¤ºä¾‹ 2:\nè¾“å…¥: nums = [2,3,0,1,4] è¾“å‡º: 2\nfunc jump(nums []int) int { n := len(nums) if n \u0026lt;= 1{ return 0 } steps , curEnd, maxReach := 0, 0, 0 for i :=0 ; i\u0026lt; n ; i ++{ maxReach = max(maxReach, i + nums[i]) if i == curEnd{ steps ++ curEnd = maxReach if curEnd \u0026gt;= n-1{ break } } } return steps } "},{"id":24,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/questions/%E7%BD%91%E7%BB%9C/","title":"ç½‘ç»œ","section":"questions","content":" kubernetes å®¹å™¨æä¾›ä¸€ä¸ªæœåŠ¡ï¼Œå¤–éƒ¨è®¿é—®æ…¢ï¼Œå¦‚ä½•æ’æŸ¥æ˜¯å®¹å™¨ç½‘ç»œåŸå› è¿˜æ˜¯æœåŠ¡æœ¬èº«çš„é—®é¢˜ # å¦‚æœå®¹å™¨å†…éƒ¨æ²¡æœ‰sh å’Œç½‘ç»œå·¥å…·ï¼Œå¦‚ä½•æŸ¥çœ‹pod å†…éƒ¨çš„ç½‘ç»œè¿æ¥ # ä½¿ç”¨ kubectl debug kubernetes æä¾›äº†kubectl debugè®©ä½ å¯ä»¥åœ¨podçš„ç½‘ç»œnamespace å†…è¿è¡Œä¸€ä¸ªä¸´æ—¶å®¹å™¨ï¼Œè¯¥å®¹å™¨å¯ä»¥åŒ…å«ç½‘ç»œå·¥å…·ï¼Œå¦‚netstatã€ssã€curlã€tcpdumpç­‰\nkubectl debug -it \u0026lt;pod-name\u0026gt; --image=busybox --target=\u0026lt;container-name\u0026gt; ä½¿ç”¨nsenter è¿›å…¥podçš„ç½‘ç»œNamespace å¦‚æœä½ æœ‰é›†ç¾¤èŠ‚ç‚¹çš„æƒé™ï¼Œå¯ä»¥æ‰¾åˆ°podè¿è¡Œçš„èŠ‚ç‚¹ï¼Œå¹¶ä½¿ç”¨nsenter è¿›å…¥podçš„ç½‘ç»œçš„namespace # å…ˆæ‰¾åˆ° Pod è¿è¡Œåœ¨å“ªä¸ªèŠ‚ç‚¹ kubectl get pod \u0026lt;pod-name\u0026gt; -o wide # SSH è¿›å…¥è¯¥èŠ‚ç‚¹ï¼Œç„¶åæ‰¾åˆ° Pod å¯¹åº”çš„å®¹å™¨ ID docker ps | grep \u0026lt;pod-name\u0026gt; # å¦‚æœæ˜¯ Docker è¿è¡Œæ—¶ crictl ps | grep \u0026lt;pod-name\u0026gt; # å¦‚æœæ˜¯ containerd æˆ– CRI-O è¿è¡Œæ—¶ # è·å–ç½‘ç»œ namespaceï¼Œå¹¶ä½¿ç”¨ nsenter è¿›å…¥ PID=$(docker inspect --format \u0026#39;{{.State.Pid}}\u0026#39; \u0026lt;container-id\u0026gt;) # Docker PID=$(crictl inspect --output go-template --template \u0026#39;{{.info.pid}}\u0026#39; \u0026lt;container-id\u0026gt;) # containerd nsenter -t $PID -n netstat -an nsenter -t $PID -n ss -tnlp ä½¿ç”¨tcpdumpåœ¨Node ä¸ŠæŠ“åŒ… tcpdump -i any port \u0026lt;pod-port\u0026gt; kubectl get pod \u0026lt;pod-name\u0026gt; -o jsonpath=\u0026#39;{.status.podIP}\u0026#39; tcpdump -i any host \u0026lt;pod-IP\u0026gt; "},{"id":25,"href":"/docs/","title":"æ–‡æ¡£é¦–é¡µ","section":"beiçš„ä¸ªäººåšå®¢","content":" æ¬¢è¿ä½¿ç”¨ Hugo Book ä¸»é¢˜ï¼ # "},{"id":26,"href":"/docs/%E7%AE%97%E6%B3%95/%E5%88%86%E6%B2%BB%E6%B3%95/1.-%E5%AF%BB%E6%89%BE%E6%97%8B%E8%BD%AC%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E6%9C%80%E5%B0%8F%E5%80%BC/","title":"å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼","section":"åˆ†æ²»æ³•","content":" å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼ # leetcode 153\nå·²çŸ¥ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„ï¼Œé¢„å…ˆæŒ‰ç…§å‡åºæ’åˆ—ï¼Œç»ç”± 1 åˆ° n æ¬¡ æ—‹è½¬ åï¼Œå¾—åˆ°è¾“å…¥æ•°ç»„ã€‚ä¾‹å¦‚ï¼ŒåŸæ•°ç»„ nums = [0,1,2,4,5,6,7] åœ¨å˜åŒ–åå¯èƒ½å¾—åˆ°ï¼š\nè‹¥æ—‹è½¬ 4 æ¬¡ï¼Œåˆ™å¯ä»¥å¾—åˆ° [4,5,6,7,0,1,2]\nè‹¥æ—‹è½¬ 7 æ¬¡ï¼Œåˆ™å¯ä»¥å¾—åˆ° [0,1,2,4,5,6,7]\næ³¨æ„ï¼Œæ•°ç»„ [a[0], a[1], a[2], \u0026hellip;, a[n-1]] æ—‹è½¬ä¸€æ¬¡ çš„ç»“æœä¸ºæ•°ç»„ [a[n-1], a[0], a[1], a[2], \u0026hellip;, a[n-2]] ã€‚\nç»™ä½ ä¸€ä¸ªå…ƒç´ å€¼ äº’ä¸ç›¸åŒ çš„æ•°ç»„ nums ï¼Œå®ƒåŸæ¥æ˜¯ä¸€ä¸ªå‡åºæ’åˆ—çš„æ•°ç»„ï¼Œå¹¶æŒ‰ä¸Šè¿°æƒ…å½¢è¿›è¡Œäº†å¤šæ¬¡æ—‹è½¬ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›æ•°ç»„ä¸­çš„ æœ€å°å…ƒç´  ã€‚\nä½ å¿…é¡»è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º O(log n) çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚\nç¤ºä¾‹ 1ï¼š\nè¾“å…¥ï¼šnums = [3,4,5,1,2]\nè¾“å‡ºï¼š1\nè§£é‡Šï¼šåŸæ•°ç»„ä¸º [1,2,3,4,5] ï¼Œæ—‹è½¬ 3 æ¬¡å¾—åˆ°è¾“å…¥æ•°ç»„ã€‚\nç¤ºä¾‹ 2ï¼š\nè¾“å…¥ï¼šnums = [4,5,6,7,0,1,2]\nè¾“å‡ºï¼š0\nè§£é‡Šï¼šåŸæ•°ç»„ä¸º [0,1,2,4,5,6,7] ï¼Œæ—‹è½¬ 4 æ¬¡å¾—åˆ°è¾“å…¥æ•°ç»„ã€‚\nç¤ºä¾‹ 3ï¼š\nè¾“å…¥ï¼šnums = [11,13,15,17]\nè¾“å‡ºï¼š11\nè§£é‡Šï¼šåŸæ•°ç»„ä¸º [11,13,15,17] ï¼Œæ—‹è½¬ 4 æ¬¡å¾—åˆ°è¾“å…¥æ•°ç»„ã€‚\nfunc findMin(nums []int) int { left, right := 0, len(nums) -1 for left \u0026lt; right{ mid := (left + right) / 2 if nums[mid] \u0026gt; nums[right]{ left = mid + 1 }else{ right = mid } } return nums[left] } "},{"id":27,"href":"/docs/%E7%AE%97%E6%B3%95/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/1.-%E6%9C%80%E9%95%BF%E5%85%AC%E5%85%B1%E5%AD%90%E5%BA%8F%E5%88%97/","title":"æœ€é•¿å…¬å…±å­åºåˆ—","section":"åŠ¨æ€è§„åˆ’","content":" æœ€é•¿å…¬å…±å­åºåˆ— # leetcode 300\nç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² text1 å’Œ text2ï¼Œè¿”å›è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²çš„æœ€é•¿ å…¬å…±å­åºåˆ— çš„é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨ å…¬å…±å­åºåˆ— ï¼Œè¿”å› 0 ã€‚\nä¸€ä¸ªå­—ç¬¦ä¸²çš„ å­åºåˆ— æ˜¯æŒ‡è¿™æ ·ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼šå®ƒæ˜¯ç”±åŸå­—ç¬¦ä¸²åœ¨ä¸æ”¹å˜å­—ç¬¦çš„ç›¸å¯¹é¡ºåºçš„æƒ…å†µä¸‹åˆ é™¤æŸäº›å­—ç¬¦ï¼ˆä¹Ÿå¯ä»¥ä¸åˆ é™¤ä»»ä½•å­—ç¬¦ï¼‰åç»„æˆçš„æ–°å­—ç¬¦ä¸²ã€‚\nä¾‹å¦‚ï¼Œ\u0026ldquo;ace\u0026rdquo; æ˜¯ \u0026ldquo;abcde\u0026rdquo; çš„å­åºåˆ—ï¼Œä½† \u0026ldquo;aec\u0026rdquo; ä¸æ˜¯ \u0026ldquo;abcde\u0026rdquo; çš„å­åºåˆ—ã€‚ ä¸¤ä¸ªå­—ç¬¦ä¸²çš„ å…¬å…±å­åºåˆ— æ˜¯è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²æ‰€å…±åŒæ‹¥æœ‰çš„å­åºåˆ—ã€‚\nfunc longestCommonSubsequence(text1 string, text2 string) int { m, n := len(text1), len(text2) dp := make([][]int, m+1) for i := range dp { dp[i] = make([]int, n+1) } for i := 1; i \u0026lt;= m; i++ { for j := 1; j \u0026lt;= n; j++ { if text1[i-1] == text2[j-1] { dp[i][j] = dp[i-1][j-1] + 1 } else { dp[i][j] = max(dp[i-1][j], dp[i][j-1]) } } } return dp[m][n] } "},{"id":28,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/operate/install/calico/","title":"calico","section":"install","content":"xxx\n"},{"id":29,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/develop/client-go/","title":"client-go","section":"develop","content":"æ¬¢è¿ä½¿ç”¨client-go\n"},{"id":30,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/develop/controller-runtime/","title":"controller runtime","section":"develop","content":"æ¬¢è¿ä½¿ç”¨controller runtime\n"},{"id":31,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/develop/","title":"develop","section":"Kubernetes","content":"æ¬¢è¿ä½¿ç”¨kubernetes\n"},{"id":32,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/develop/client-go/example/","title":"example","section":"client-go","content":" example code\nåˆ›å»ºCRD ç»“æ„ /pkg/apis/example/v1/types.go\ntype MyResource struct { metav1.TypeMeta `json:\u0026#34;,inline\u0026#34;` metav1.ObjectMeta `json:\u0026#34;metadata,omitempty\u0026#34;` Spec MyResourceSpec `json:\u0026#34;spec\u0026#34;` } // MyResourceSpec defines the desired state of MyResource type MyResourceSpec struct { Foo string `json:\u0026#34;foo\u0026#34;` Bar int `json:\u0026#34;bar\u0026#34;` } ä½¿ç”¨code-generator å·¥å…·è‡ªåŠ¨ç”ŸæˆclientSetã€informerã€lister bash hack/update-codegen.sh å®šä¹‰controller ç»“æ„ /pkg/controller/contronller.go\ntype Controller struct { kubeclientset kubernetes.Interface myresourceClientset clientset.Interface myresourceLister listers.MyResourceLister myresourceSynced cache.InformerSynced workqueue workqueue.TypedRateLimitingInterface[string] } åˆå§‹åŒ–controller /pkg/controller/contronller.go\nfunc NewController( kubeclientset kubernetes.Interface, myresourceClientset clientset.Interface, myresourceInformer v1.MyResourceInformer) *Controller { controller := \u0026amp;Controller{ kubeclientset: kubeclientset, myresourceClientset: myresourceClientset, myresourceLister: myresourceInformer.Lister(), myresourceSynced: myresourceInformer.Informer().HasSynced, workqueue: workqueue.NewTypedRateLimitingQueueWithConfig( workqueue.DefaultTypedControllerRateLimiter[string](), workqueue.TypedRateLimitingQueueConfig[string]{ Name: \u0026#34;my-controller\u0026#34;, }, ), } myresourceInformer.Informer().AddEventHandler(cache.ResourceEventHandlerFuncs{ AddFunc: controller.enqueueMyResource, UpdateFunc: func(old, new interface{}) { controller.enqueueMyResource(new) }, DeleteFunc: controller.enqueueMyResource, }) return controller } set up /metrics and /healthzæ¥å£ /pkg/controller/contronller.go\n// Set up metrics server http.Handle(\u0026#34;/metrics\u0026#34;, promhttp.Handler()) go func() { klog.Fatal(http.ListenAndServe(\u0026#34;:8080\u0026#34;, nil)) }() // Set up health check server http.HandleFunc(\u0026#34;/healthz\u0026#34;, health.HealthCheck) go func() { klog.Fatal(http.ListenAndServe(\u0026#34;:8081\u0026#34;, nil)) }() ä½¿ç”¨leaderelection ç¼–å†™é«˜å¯ç”¨controller /cmd/my-controller.go\nlock := \u0026amp;resourcelock.LeaseLock{ LeaseMeta: metav1.ObjectMeta{ Name: leaseLockName, Namespace: leaseLockNamespace, }, Client: kubeClient.CoordinationV1(), LockConfig: resourcelock.ResourceLockConfig{ Identity: os.Getenv(\u0026#34;POD_NAME\u0026#34;), // Use the pod name as the identity }, } leaderelection.RunOrDie(context.TODO(), leaderelection.LeaderElectionConfig{ Lock: lock, ReleaseOnCancel: true, LeaseDuration: 15 * time.Second, RenewDeadline: 10 * time.Second, RetryPeriod: 2 * time.Second, Callbacks: leaderelection.LeaderCallbacks{ OnStartedLeading: func(ctx context.Context) { klog.Info(\u0026#34;Started leading\u0026#34;) informerFactory.Start(ctx.Done()) // Start the controller logic }, OnStoppedLeading: func() { klog.Info(\u0026#34;Stopped leading\u0026#34;) le \u0026lt;- struct{}{} }, OnNewLeader: func(identity string) { if identity == os.Getenv(\u0026#34;POD_NAME\u0026#34;) { klog.Info(\u0026#34;I am the leader\u0026#34;) } else { klog.Infof(\u0026#34;New leader elected: %s\u0026#34;, identity) } }, }, }) å¯åŠ¨controller /cmd/my-controller.go\nmyController.Run(2, ctx.Done()) ä¸šåŠ¡é€»è¾‘å†™åœ¨ pkg/controller/contronller.go\nfunc (c *Controller) syncHandler(key string) error { namespace, name, err := cache.SplitMetaNamespaceKey(key) if err != nil { runtime.HandleError(fmt.Errorf(\u0026#34;invalid resource key: %s\u0026#34;, key)) return nil } myresource, err := c.myresourceLister.MyResources(namespace).Get(name) if err != nil { if errors.IsNotFound(err) { runtime.HandleError(fmt.Errorf(\u0026#34;myresource \u0026#39;%s\u0026#39; in work queue no longer exists\u0026#34;, key)) return nil } return err } fmt.Printf(\u0026#34;Sync/Add/Update for MyResource %s\\n\u0026#34;, myresource.GetName()) return nil } "},{"id":33,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/operate/","title":"operate","section":"Kubernetes","content":"æ¬¢è¿ä½¿ç”¨kubernetes\n"},{"id":34,"href":"/docs/%E7%AE%97%E6%B3%95/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/","title":"åŠ¨æ€è§„åˆ’","section":"ç®—æ³•","content":"æœ¬ç« èŠ‚ä»‹ç»è´ªå¿ƒç®—æ³•\nåŸºæœ¬åŸç† # æœ€ä¼˜å­ç»“æ„ ä¸€ä¸ªé—®é¢˜çš„æœ€ä¼˜è§£åŒ…å«å…¶å­é—®é¢˜çš„æœ€ä¼˜è§£ï¼Œæ¢å¥è¯è¯´ï¼Œé—®é¢˜çš„æœ€ä¼˜è§£å¯ä»¥é€šè¿‡å­é—®é¢˜çš„æœ€ä¼˜è§£æ¨åˆ°å‡ºæ¥ é‡å å­é—®é¢˜ åœ¨æ±‚è§£è¿‡ç¨‹ä¸­ï¼Œå­é—®é¢˜ä¼šè¢«å¤šæ¬¡é‡å¤è®¡ç®—ï¼ŒåŠ¨æ€è§„åˆ’é€šè¿‡å­˜å‚¨å­é—®é¢˜çš„è§£ï¼ˆé€šå¸¸ä½¿ç”¨è¡¨æ ¼æˆ–æ•°ç»„ï¼‰ï¼Œé¿å…é‡å¤è®¡ç®— é€‚ç”¨æ¡ä»¶ # æœ€ä¼˜åŒ–é—®é¢˜ï¼š èƒŒåŒ…é—®é¢˜ï¼ˆ0-1 èƒŒåŒ…ã€å®Œå…¨èƒŒåŒ…ï¼‰ æœ€çŸ­è·¯å¾„é—®é¢˜ï¼ˆFloyd-Warshall ç®—æ³•ï¼‰ æœ€é•¿å…¬å…±å­åºåˆ—ï¼ˆLCSï¼‰ æœ€å¤§å­æ•°ç»„å’Œ è®¡æ•°é—®é¢˜ï¼š ç»„åˆæ•°é—®é¢˜ è·¯å¾„è®¡æ•°é—®é¢˜ åºåˆ—é—®é¢˜ï¼š æ–æ³¢é‚£å¥‘æ•°åˆ— ç¼–è¾‘è·ç¦»ï¼ˆLevenshtein è·ç¦»ï¼‰ æ­¥éª¤ # å®šä¹‰çŠ¶æ€ æ˜ç¡®é—®é¢˜çš„çŠ¶æ€è¡¨ç¤ºï¼Œé€šå¸¸ä¸€ä¸ªæˆ–å¤šä¸ªå˜é‡æè¿°é—®é¢˜çš„å­é—®é¢˜ ç¡®å®šçŠ¶æ€è½¬ç§»æ–¹ç¨‹ æ‰¾åˆ°çŠ¶æ€ä¹‹é—´çš„å…³ç³»ï¼Œå³å¦‚ä½•ä»å­é—®é¢˜çš„è§£æ¨å¯¼å‡ºå½“å‰é—®é¢˜çš„è§£ åˆå§‹åŒ– ç¡®å®šåˆå§‹çŠ¶æ€çš„å€¼ï¼Œé€šå¸¸é—®é¢˜çš„æœ€å°è§„æ¨¡æƒ…å†µ è®¡ç®—é¡ºåº æŒ‰ç…§ä¸€å®šçš„é¡ºåºè®¡ç®—çŠ¶æ€ï¼Œé€šå¸¸æ˜¯è‡ªåº•å‘ä¸Šï¼ˆä»æœ€å°å­é—®é¢˜å¼€å§‹ï¼‰æˆ–è‡ªé¡¶å‘ä¸‹ï¼ˆé€’å½’ + è®°å¿†åŒ–ï¼‰ è¿”å›ç»“æœ æ ¹æ®çŠ¶æ€æˆ–æ•°ç»„è¿”å›æœ€ç»ˆé—®é¢˜çš„è§£ ä¼˜åŒ– # ç©ºé—´ä¼˜åŒ–ï¼š å¦‚æœçŠ¶æ€è½¬ç§»æ–¹ç¨‹åªä¾èµ–äºå‰ä¸€ä¸ªçŠ¶æ€ï¼Œå¯ä»¥ä½¿ç”¨æ»šåŠ¨æ•°ç»„æˆ–å˜é‡æ¥å‡å°‘ç©ºé—´å¤æ‚åº¦ã€‚ ä¾‹å¦‚ï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—é—®é¢˜å¯ä»¥ä¼˜åŒ–ä¸ºåªä½¿ç”¨ä¸¤ä¸ªå˜é‡ã€‚ è®°å¿†åŒ–æœç´¢ï¼š è‡ªé¡¶å‘ä¸‹çš„é€’å½’æ–¹æ³•ï¼Œé€šè¿‡ç¼“å­˜å­é—®é¢˜çš„è§£æ¥é¿å…é‡å¤è®¡ç®—ã€‚ "},{"id":35,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/operate/%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BAkubeconfig/","title":"å¦‚ä½•åˆ›å»ºkubeConfig","section":"operate","content":" å¦‚ä½•åˆ›å»ºkubeConfig # åˆ›å»ºclusterRole kubectl create clusterrole monitor --resource=prometheusrule --verb=\u0026#34;*\u0026#34; åˆ›å»ºclusterRoleBinding kubectl create clusterrolebinding monitor --clusterrole=rule --user monitor ç”Ÿæˆæ™®é€šç”¨æˆ·ä»¤ç‰Œ cd /etc/kubernetes/pki #ä½ çš„é›†ç¾¤è¯ä¹¦ç›®å½• user=monitor organization=monitoring clustername=cluster02 # ã€é›†ç¾¤åœ°å€ï¼Œä¾‹å¦‚ï¼šhttps://172.21.114.169:6443ã€‘ api_addr=https://192.168.31.208:6443 time_days=365 #å¤åˆ¶ç²˜è´´ä¸‹é¢çš„ä»£ç å³å¯ umask 077;openssl genrsa -out $user.key 2048 openssl req -new -key $user.key -out $user.csr -subj \u0026#34;/O=$organization/CN=$user\u0026#34; openssl x509 -req -in $user.csr -CA ca.crt -CAkey ca.key -CAcreateserial -out $user.crt -days $time_days kubectl config set-cluster $clustername --server=$api_addr --certificate-authority=ca.crt --embed-certs=true --kubeconfig=/root/$user.config kubectl config set-credentials $user --client-certificate=$user.crt --client-key=$user.key --embed-certs=true --kubeconfig=/root/$user.config kubectl config set-context $user@$clustername --cluster=$clustername --user=$user --kubeconfig=/root/$user.config kubectl config use-context $user@$clustername --kubeconfig=/root/$user.config "},{"id":36,"href":"/docs/%E7%AE%97%E6%B3%95/%E4%BA%8C%E5%8F%89%E6%A0%91/2.-%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86/","title":"ä¸­åºéå†","section":"äºŒå‰æ ‘","content":" ä¸­åºéå† # å·¦å­æ ‘ â†’ æ ¹ â†’ å³å­æ ‘\nfunc inorderTraversal(root *TreeNode) []int { if root == nil { return []int{} } stack, res := []*TreeNode{}, []int{} cur := root for cur != nil \u0026amp;\u0026amp; len(stack) \u0026gt; 0 { for cur != nil { stack = append(stack, cur) cur = cur.Left } cur = stack[len(stack)-1] stack = stack[:len(stack)-1] cur = root.Right } return res } "},{"id":37,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/operate/install/argo/","title":"argo","section":"install","content":"xxx\n"},{"id":38,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/cri/containerd/","title":"containerd","section":"CRI","content":"ä»‹ç»ä½¿ç”¨containerdä½œä¸ºkubernetes CNIç½‘ç»œæ’ä»¶çš„ä½¿ç”¨\n"},{"id":39,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/cri/","title":"CRI","section":"äº‘åŸç”Ÿ","content":"ä»‹ç»ä½¿ç”¨containerdä½œä¸ºkubernetes CNIç½‘ç»œæ’ä»¶çš„ä½¿ç”¨\n"},{"id":40,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/questions/","title":"questions","section":"Kubernetes","content":"æœ¬æ–‡ä»‹ç»kubernetes å¸¸è§çš„é—®é¢˜\n"},{"id":41,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/%E7%9B%91%E6%8E%A7/metrics/prometheus/questions/","title":"questions","section":"prometheus","content":"æœ¬äººä»‹ç»prometheus å¸¸è§çš„é—®é¢˜\n"},{"id":42,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/%E7%9B%91%E6%8E%A7/metrics/thanos/","title":"thanos","section":"metrics","content":" "},{"id":43,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/%E7%9B%91%E6%8E%A7/trace/","title":"trace","section":"ç›‘æ§","content":"ğŸ”¹ Trace çš„å·¥ä½œåŸç†\n1ï¸âƒ£ è¯·æ±‚è¿›å…¥ç³»ç»Ÿ â€¢\tå…¥å£ï¼ˆå¦‚ API Gatewayï¼‰ç”Ÿæˆä¸€ä¸ª Trace ID â€¢\tè®°å½• èµ·å§‹æ—¶é—´\n2ï¸âƒ£ è¯·æ±‚ä¼ æ’­ â€¢\tæ¯ä¸ªå¾®æœåŠ¡ åˆ›å»ºä¸€ä¸ª Span â€¢\tä¼ é€’ Trace IDï¼ˆä¸Šä¸‹æ–‡ï¼‰ â€¢\tè®°å½• æ—¶é—´ã€è¯·æ±‚å‚æ•°ã€å“åº”æ—¶é—´\n3ï¸âƒ£ è¯·æ±‚å®Œæˆ â€¢\tè®¡ç®— æ¯ä¸ªæœåŠ¡çš„æ‰§è¡Œæ—¶é—´ â€¢\tè®°å½• é”™è¯¯ä¿¡æ¯ â€¢\tä¸ŠæŠ¥ Trace æ•°æ®åˆ° å­˜å‚¨ \u0026amp; å¯è§†åŒ–ç³»ç»Ÿ\nğŸ”¹ Trace æ•°æ®ç»“æ„\nä¸€ä¸ª Trace ç”±å¤šä¸ª Span ç»„æˆï¼Œæ¯ä¸ª Span è®°å½•ï¼š\n{ \u0026#34;trace_id\u0026#34;: \u0026#34;abcd-1234\u0026#34;, \u0026#34;span_id\u0026#34;: \u0026#34;efgh-5678\u0026#34;, \u0026#34;parent_id\u0026#34;: \u0026#34;ijkl-9101\u0026#34;, \u0026#34;service\u0026#34;: \u0026#34;user-service\u0026#34;, \u0026#34;operation\u0026#34;: \u0026#34;GET /user/info\u0026#34;, \u0026#34;start_time\u0026#34;: 1710000000000, \u0026#34;duration_ms\u0026#34;: 30, \u0026#34;tags\u0026#34;: { \u0026#34;http.status_code\u0026#34;: 200, \u0026#34;db.query\u0026#34;: \u0026#34;SELECT * FROM users\u0026#34; } } ğŸš€ æ€»ç»“\nâœ… Trace é€‚ç”¨äºåˆ†å¸ƒå¼å¾®æœåŠ¡ï¼Œå¸®åŠ©åˆ†ææ…¢è¯·æ±‚ã€è°ƒç”¨é“¾\nâœ… æ ¸å¿ƒæ¦‚å¿µï¼šTraceã€Spanã€ä¸Šä¸‹æ–‡ä¼ æ’­ã€å­˜å‚¨ \u0026amp; å¯è§†åŒ–\nâœ… Jaegerã€OpenTelemetryã€Tempo æ˜¯å¸¸è§çš„ Trace æ–¹æ¡ˆ\nâœ… ç›¸æ¯”ä¼ ç»Ÿæ—¥å¿—ï¼ŒTrace æ›´é€‚åˆæ•…éšœæ’æŸ¥ \u0026amp; æ€§èƒ½ä¼˜åŒ–\n"},{"id":44,"href":"/docs/%E7%AE%97%E6%B3%95/%E5%9B%9E%E6%BA%AF/","title":"å›æº¯","section":"ç®—æ³•","content":"æœ¬ç« èŠ‚ä»‹ç»å›æº¯æ–¹æ³•\nåŸºæœ¬æ€æƒ³ # å°è¯•æ„å»ºè§£ï¼ˆæ¢ç´¢ï¼‰ å¦‚æœä¸æ»¡è¶³æ¡ä»¶ï¼Œåˆ™å›é€€ï¼ˆå›æº¯ï¼‰ å¦‚æœæ»¡è¶³æ¡ä»¶ï¼Œåˆ™è®°å½•è§£ æ­¥éª¤ # é€‰æ‹©ï¼ˆChooseï¼‰ï¼šå°è¯•åšå‡ºé€‰æ‹©ï¼Œå‘è§£ç©ºé—´æ·±å¤„æ¢ç´¢ã€‚ çº¦æŸï¼ˆConstraintï¼‰ï¼šæ£€æŸ¥å½“å‰é€‰æ‹©æ˜¯å¦æ»¡è¶³é—®é¢˜çº¦æŸæ¡ä»¶ï¼Œè‹¥ä¸æ»¡è¶³åˆ™å›é€€ã€‚ æ’¤é”€ï¼ˆUnchooseï¼‰ï¼šå¦‚æœè¯¥é€‰æ‹©å¯¼è‡´åç»­æ— è§£ï¼Œåˆ™æ’¤é”€é€‰æ‹©ï¼Œå›åˆ°ä¸Šä¸€æ­¥ã€‚ ä¼˜ç¼ºç‚¹ # ä¼˜ç‚¹\næ˜“äºå®ç°ï¼šä»£ç ç»“æ„æ¸…æ™°ï¼Œé€’å½’æ€ç»´è‡ªç„¶é€‚é…å›æº¯æ³•ã€‚ èƒ½æ±‚æ‰€æœ‰è§£ï¼šé€‚ç”¨äºç»„åˆã€æ’åˆ—ã€å­é›†é—®é¢˜ï¼Œèƒ½éå†æ‰€æœ‰å¯èƒ½æ–¹æ¡ˆã€‚ é€‚ç”¨äºæ ‘å½¢ç»“æ„é—®é¢˜ï¼šå¦‚å†³ç­–æ ‘ã€DFS æœç´¢è·¯å¾„ã€‚ å¯ä»¥ç»“åˆå‰ªæä¼˜åŒ–ï¼šå¦‚ used[] è®°å½•çŠ¶æ€ã€æå‰ç»ˆæ­¢æ— æ•ˆæœç´¢ã€‚ ç¼ºç‚¹ æ—¶é—´å¤æ‚åº¦é«˜ï¼š ç»„åˆï¼šO(C(n, k)) â‰ˆ æŒ‡æ•°çº§ æ’åˆ—ï¼šO(n!)ï¼ˆéå¸¸é«˜ï¼‰ è¿·å®«ï¼šæœ€å O(4^n)ï¼ˆå››ä¸ªæ–¹å‘å°è¯•ï¼‰ é‡å¤è®¡ç®—ï¼š ä¾‹å¦‚ç¼–è¾‘è·ç¦»è®¡ç®—ï¼Œå›æº¯ä¼šé‡å¤è®¡ç®—å­é—®é¢˜ï¼Œå¯¼è‡´è¶…æ—¶ã€‚ ä¼˜åŒ–ï¼šè®°å¿†åŒ–æœç´¢ + å‰ªæã€‚ ä¸é€‚åˆå¤§è§„æ¨¡æ•°æ®ï¼š æœç´¢ç©ºé—´å¤ªå¤§æ—¶ï¼Œç›´æ¥è¶…æ—¶ï¼ éœ€è¦ä¼˜åŒ–ï¼Œå¦‚ å‰ªæã€DP ä»£æ›¿å›æº¯ã€‚ "},{"id":45,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/cni/cilium/","title":"cilium","section":"CNI","content":"ä»‹ç»ä½¿ç”¨ciliumä½œä¸ºkubernetes CNIç½‘ç»œæ’ä»¶çš„ä½¿ç”¨\n"},{"id":46,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/cni/","title":"CNI","section":"äº‘åŸç”Ÿ","content":"ä»‹ç»ä½¿ç”¨ciliumä½œä¸ºkubernetes CNIç½‘ç»œæ’ä»¶çš„ä½¿ç”¨\n"},{"id":47,"href":"/docs/%E7%AE%97%E6%B3%95/%E5%8F%8C%E6%8C%87%E9%92%88/","title":"åŒæŒ‡é’ˆ","section":"ç®—æ³•","content":"æœ¬ç« èŠ‚ä»‹ç»åŒæŒ‡é’ˆ\nåŸºæœ¬æ€æƒ³ # åŒæŒ‡é’ˆï¼ˆTwo Pointersï¼‰ æ˜¯ä¸€ç§å¸¸ç”¨çš„ç®—æ³•ä¼˜åŒ–æŠ€å·§ï¼Œé€šè¿‡ä¸¤ä¸ªæŒ‡é’ˆï¼ˆç´¢å¼•ï¼‰åœ¨æ•°ç»„æˆ–é“¾è¡¨ä¸Šè¿›è¡Œéå†ï¼Œå‡å°‘ä¸å¿…è¦çš„é‡å¤è®¡ç®—ï¼Œæé«˜æ•ˆç‡ã€‚ é€‚ç”¨äº æ•°ç»„ã€å­—ç¬¦ä¸²ã€é“¾è¡¨ç­‰çº¿æ€§ç»“æ„ï¼Œ\næŸ¥æ‰¾ æ¯”è¾ƒ å»é‡ æ’åºç­‰ã€‚ é€‚ç”¨æ¡ä»¶ # æœ‰åºæ•°ç»„/å­—ç¬¦ä¸²/é“¾è¡¨ï¼Œæ–¹ä¾¿åˆ©ç”¨ å·¦å³å¯¹æ’ æˆ– å¿«æ…¢éå†ã€‚ å¯»æ‰¾ç‰¹å®šç»„åˆï¼ˆå¦‚å’Œä¸º targetï¼‰ï¼Œå¯ä»¥é€šè¿‡ å¯¹æ’æŒ‡é’ˆ é¿å…æš´åŠ›è§£æ³•ã€‚ éœ€è¦åŠ¨æ€ç»´æŠ¤çª—å£ï¼ˆå¦‚æœ€é•¿æ— é‡å¤å­ä¸²ï¼‰ï¼Œæ»‘åŠ¨çª—å£å¯é«˜æ•ˆè§£å†³é—®é¢˜ã€‚ æ­¥éª¤ # é—®é¢˜åˆ†è§£ï¼šå°†é—®é¢˜åˆ†ä¸ºè‹¥å¹²ä¸ªå­é—®é¢˜ å±€éƒ¨æœ€ä¼˜é€‰æ‹©ï¼šå¯¹æ¯ä¸ªå­é—®é¢˜ï¼Œé€‰æ‹©ä¸€ä¸ªå±€éƒ¨æœ€ä¼˜è§£ åˆå¹¶è§£ï¼šå°†å±€éƒ¨æœ€ä¼˜è§£åˆå¹¶ä¸ºå…¨å±€è§£ ç»å…¸åº”ç”¨ # æ´»åŠ¨é€‰æ‹©é—®é¢˜ï¼šé€‰æ‹©æœ€å¤šçš„äº’ä¸é‡å çš„æ´»åŠ¨ã€‚ éœå¤«æ›¼ç¼–ç ï¼šæ„é€ æœ€ä¼˜å‰ç¼€ç¼–ç ã€‚ æœ€å°ç”Ÿæˆæ ‘ï¼šå¦‚Primç®—æ³•å’ŒKruskalç®—æ³•ã€‚ æœ€çŸ­è·¯å¾„é—®é¢˜ï¼šå¦‚Dijkstraç®—æ³•ã€‚ èƒŒåŒ…é—®é¢˜çš„åˆ†æ•°ç‰ˆæœ¬ï¼šé€‰æ‹©å•ä½ä»·å€¼æœ€é«˜çš„ç‰©å“ã€‚ ä¼˜ç¼ºç‚¹ # ä¼˜ç‚¹\né™ä½æ—¶é—´å¤æ‚åº¦ å¥—å¾ªç¯ï¼Œé™ä½ O(nÂ²) ä¸º O(n)ï¼Œå‡å°‘ä¸å¿…è¦çš„è®¡ç®—ã€‚ é€‚ç”¨äºæœ‰åºç»“æ„ æœ‰åºæ•°ç»„ã€å•è°ƒé€’å¢åºåˆ— å¯ç”¨åŒæŒ‡é’ˆ é«˜æ•ˆæŸ¥æ‰¾ç›®æ ‡å€¼ã€‚ ç©ºé—´å¤æ‚åº¦ä½ ä¸€èˆ¬åªéœ€ O(1) é¢å¤–ç©ºé—´ï¼Œé¿å…é¢å¤–æ•°ç»„æˆ–å“ˆå¸Œè¡¨ã€‚ ç¼ºç‚¹\nä¸é€‚ç”¨äºæ— åºæ•°ç»„ ä¾‹å¦‚ æ— åºæ•°ç»„æ±‚å’Œ ä¸èƒ½ç›´æ¥ç”¨ å¯¹æ’æŒ‡é’ˆã€‚ æœ‰äº›é—®é¢˜æ— æ³•è§„é¿åµŒå¥—å¾ªç¯ ä¾‹å¦‚ å››æ•°ä¹‹å’Œ ä»ç„¶éœ€è¦ O(nÂ³)ã€‚ å¤æ‚æƒ…å†µéœ€è¦é¢å¤–é€»è¾‘ æ»‘åŠ¨çª—å£æœ‰æ—¶å€™éœ€è¦ å“ˆå¸Œè¡¨ è®°å½•çŠ¶æ€ã€‚ "},{"id":48,"href":"/docs/linux/%E7%BD%91%E7%BB%9C/","title":"ç½‘ç»œ","section":"linux","content":" æ¬¢è¿ä½¿ç”¨ Hugo Book ä¸»é¢˜ï¼ # "},{"id":49,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/coredns/","title":"coreDNS","section":"äº‘åŸç”Ÿ","content":"ä»‹ç»ä½¿ç”¨Keycloak + OIDC\n"},{"id":50,"href":"/docs/%E7%AE%97%E6%B3%95/%E5%A0%86/","title":"å †","section":"ç®—æ³•","content":"æœ¬ç« èŠ‚ä»‹ç»å †\nåŸºæœ¬æ€æƒ³ # å †é€šå¸¸ç”¨å®Œå…¨äºŒå‰æ ‘å®ç°ï¼Œå¹¶å­˜å‚¨åœ¨æ•°ç»„ä¸­ï¼Œä¿è¯é«˜æ•ˆçš„æ’å…¥å’Œåˆ é™¤æ“ä½œ æœ€å¤§å †ï¼šæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å¤§äºç­‰äºå…¶å­èŠ‚ç‚¹çš„å€¼ï¼Œæ ¹èŠ‚ç‚¹æ˜¯æœ€å¤§å€¼ æœ€å°å †ï¼šæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å°äºå…¶å­èŠ‚ç‚¹çš„å€¼ï¼Œæ ¹èŠ‚ç‚¹æ˜¯æœ€å°å€¼ å­˜å‚¨æ–¹å¼ # ä½¿ç”¨æ•°ç»„è¡¨ç¤ºå®Œå…¨äºŒå‰æ ‘ æ“ä½œ # æ’å…¥æ“ä½œ\næŠŠæ–°å…ƒç´ æ’å…¥åˆ°æ•°ç»„æœ«å°¾ ä¸Šæµ® åˆ é™¤å †é¡¶å…ƒç´ \nç”¨æœ€åä¸€ä¸ªå…ƒç´ æ›¿æ¢å †é¡¶ ä¸‹æ²‰ å †æ’åº\næ„å»ºæœ€å¤§å † äº¤æ¢æ ¹èŠ‚ç‚¹å’Œæœ€åä¸€ä¸ªå…ƒç´  è°ƒæ•´å † é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´åˆ°æ’åºå®Œæˆ ç»å…¸åº”ç”¨ # ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆPriority Queueï¼‰ ä½¿ç”¨æœ€å°å †å®ç°ä»»åŠ¡ä¼˜å…ˆçº§è°ƒåº¦ ä½¿ç”¨æœ€å¤§å †å®ç°Top K é—®é¢˜ æ±‚TOP K å¤§/å°å…ƒç´  æœ€å°å †æ±‚TOP K å¤§å…ƒç´  æœ€å¤§å †æ±‚TOP K å°å…ƒç´  ä¸­ä½æ•°ç»´æŠ¤ å·¦è¾¹æœ€å¤§å †ï¼ˆç»´æŠ¤è¾ƒå°çš„ä¸€åŠæ•°ï¼‰ å³è¾¹æœ€å°å †ï¼ˆç»´æŠ¤è¾ƒå¤§çš„ä¸€åŠæ•°ï¼‰ ä¸­ä½æ•°ä¸ºä¸¤å †çš„é¡¶å…ƒç´  ä¼˜ç¼ºç‚¹ # ä¼˜ç‚¹\næ’å…¥ã€åˆ é™¤ æ“ä½œæ—¶é—´å¤æ‚åº¦ O(log n) åŠ¨æ€ç»´æŠ¤ Top K é—®é¢˜ï¼Œé€‚ç”¨äºå¤§æ•°æ®åœºæ™¯ ä¼˜å…ˆé˜Ÿåˆ—å®ç°ç®€å•é«˜æ•ˆ ç¼ºç‚¹\nä¸æ”¯æŒå¿«é€ŸæŸ¥æ‰¾ï¼ˆä¸åƒå“ˆå¸Œè¡¨ O(1)ï¼‰ å †æ’åºä¸æ˜¯ç¨³å®šæ’åºï¼ˆç›¸åŒå…ƒç´ ç›¸å¯¹é¡ºåºå¯èƒ½æ”¹å˜ï¼‰ æ•°ç»„å®ç°å †å¯èƒ½éœ€è¦é¢å¤–çš„ç©ºé—´ç§»åŠ¨ ç¤ºä¾‹ # æœ€å°å †\nimport \u0026#34;container/heap\u0026#34; type MinHeap []int func (h MinHeap) Len() int { return len(h) } func (h MinHeap) Less(i, j int) bool { return h[i] \u0026lt; h[j] } // æœ€å°å † func (h MinHeap) Swap(i, j int) { h[i], h[j] = h[j], h[i] } func (h *MinHeap) Push(x any) { *h = append(*h, x.(int)) } func (h *MinHeap) Pop() any { old := *h n := len(old) x := old[n-1] *h = old[:n-1] return x } func main() { h := \u0026amp;MinHeap{} heap.Init(h) heap.Push(h, 5) heap.Push(h, 2) heap.Push(h, 8) heap.Push(h, 1) fmt.Println(heap.Pop(h)) // 1 } "},{"id":51,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/ci/tekton/","title":"tekton","section":"CI","content":"ä»‹ç»ä½¿ç”¨tekton\n"},{"id":52,"href":"/docs/%E7%AE%97%E6%B3%95/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F/","title":"æ‹“æ‰‘æ’åº","section":"ç®—æ³•","content":"æœ¬ç« èŠ‚ä»‹ç»å †\nåŸºæœ¬æ€æƒ³ # æ‹“æ‰‘æ’åºï¼ˆTopological Sortingï¼‰æ˜¯ é’ˆå¯¹æœ‰å‘æ— ç¯å›¾ï¼ˆDAG, Directed Acyclic Graphï¼‰çš„ä¸€ç§æ’åºæ–¹æ³•ï¼Œå®ƒçš„ç›®æ ‡æ˜¯å°†å›¾ä¸­çš„æ‰€æœ‰é¡¶ç‚¹æ’åºï¼Œä½¿å¾—å¯¹äºæ¯ä¸€æ¡æœ‰å‘è¾¹ (u â†’ v)ï¼Œé¡¶ç‚¹ u å…ˆå‡ºç°åœ¨ v ä¹‹å‰ã€‚\nkahnç®—æ³•ï¼ˆå…¥åº¦æ³•ï¼‰ ç»´æŠ¤æ‰€æœ‰å…¥åº¦0çš„èŠ‚ç‚¹ï¼ˆå¯ä»¥å…¥é˜Ÿï¼‰ æ¯æ¬¡ä»é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¹¶åˆ é™¤å®ƒæŒ‡å‘çš„è¾¹ï¼Œæ›´æ–°ç›¸é‚»èŠ‚ç‚¹çš„å…¥åº¦ è‹¥æŸä¸ªç›¸é‚»èŠ‚ç‚¹å…¥åº¦å˜æˆ0ï¼Œåˆ™åŠ å…¥é˜Ÿåˆ— çŸ¥é“æ‰€æœ‰èŠ‚ç‚¹éƒ½è¢«è®¿é—®å®Œ DFS é€†åºæ³• é‡‡ç”¨DFSéå†æ¯ä¸ªç‚¹ï¼Œé€’å½’è®¿é—®æ‰€æœ‰å­èŠ‚ç‚¹ è®¿é—®å®Œæ‰€æœ‰åç»­èŠ‚ç‚¹åï¼Œå°†å½“å‰çš„èŠ‚ç‚¹å‹å…¥æ ˆ æœ€ç»ˆæ ˆä¸­çš„å…ƒç´ é¡ºåºå³ä¸ºæ‹“æ‰‘æ’åºçš„ç»“æœ ç»å…¸åº”ç”¨ # ä»»åŠ¡è°ƒåº¦ åœºæ™¯ï¼šå¤šä¸ªä»»åŠ¡æœ‰å‰åä¾èµ–å…³ç³»ï¼Œå¿…é¡»æŒ‰é¡ºåºæ‰§è¡Œã€‚ ç¤ºä¾‹ï¼šç¼–è¯‘å¤šä¸ªæºä»£ç æ–‡ä»¶æ—¶ï¼Œéœ€è¦å…ˆç¼–è¯‘ä¾èµ–æ–‡ä»¶ã€‚ è¯¾ç¨‹å®‰æ’ï¼ˆå…ˆä¿®è¯¾ç¨‹ï¼‰ åœºæ™¯ï¼šæŸäº›è¯¾ç¨‹éœ€è¦å…ˆå®Œæˆå‰ç½®è¯¾ç¨‹ï¼Œæ‰èƒ½å­¦ä¹ åç»­è¯¾ç¨‹ã€‚ ç¤ºä¾‹ï¼šLeetCode 207 è¯¾ç¨‹è¡¨ï¼ˆCourse Scheduleï¼‰é—®é¢˜ã€‚ ç”µè·¯æ—¶åºåˆ†æ åœºæ™¯ï¼šè®¡ç®—ç”µè·¯ä¸­ä¿¡å·çš„ä¼ æ’­é¡ºåºï¼Œç¡®ä¿æ•°æ®æŒ‰é€»è¾‘æµåŠ¨ã€‚ è½¯ä»¶åŒ…ä¾èµ–ç®¡ç† åœºæ™¯ï¼šå¦‚ npmã€pip ç­‰åŒ…ç®¡ç†å™¨ï¼Œå®‰è£…åŒ…æ—¶éœ€è¦å…ˆå®‰è£…å…¶ä¾èµ–é¡¹ã€‚ ç¼–è¯‘å™¨ä¼˜åŒ– åœºæ™¯ï¼šä»£ç ä¸­çš„å‡½æ•°è°ƒç”¨ä¼˜åŒ–ï¼Œç¡®å®šä¾èµ–å…³ç³»ï¼Œå‡å°‘é‡å¤è®¡ç®—ã€‚ ä¼˜ç¼ºç‚¹ # ä¼˜ç‚¹\né«˜æ•ˆæ€§ï¼š Kahn ç®—æ³• æ—¶é—´å¤æ‚åº¦ O(V + E)ï¼ˆéå†æ‰€æœ‰èŠ‚ç‚¹å’Œè¾¹ï¼‰ã€‚ DFS é€†åºæ³• æ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯ O(V + E)ã€‚ æ˜“äºå®ç°ï¼š ä»£ç ç®€å•ï¼Œé€‚ç”¨äºæœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰ã€‚ è§£å†³ä¾èµ–å…³ç³»é—®é¢˜ï¼š èƒ½å¾ˆå¥½åœ°è§£å†³ ä»»åŠ¡è°ƒåº¦ã€å…ˆä¿®è¯¾ç¨‹ã€è½¯ä»¶åŒ…ç®¡ç† ç­‰ä¾èµ–é—®é¢˜ã€‚ ç¼ºç‚¹\nä»…é€‚ç”¨äº DAGï¼š ä¸èƒ½å¤„ç†æœ‰ç¯å›¾ï¼Œå¦‚æœå›¾ä¸­æœ‰ç¯ï¼Œæ— æ³•è¿›è¡Œæ‹“æ‰‘æ’åºã€‚ å¯èƒ½æœ‰å¤šç§æ‹“æ‰‘æ’åºç»“æœï¼š æ‹“æ‰‘æ’åºçš„ç»“æœå¯èƒ½ä¸æ˜¯å”¯ä¸€çš„ï¼Œä¸åŒçš„ç®—æ³•å¯èƒ½å¾—å‡ºä¸åŒçš„åˆæ³•é¡ºåºã€‚ ä¸èƒ½æ£€æµ‹æ‰€æœ‰ä¾èµ–å†²çªï¼š ä»…èƒ½å‘ç° å¾ªç¯ä¾èµ–ï¼ˆç¯ï¼‰ï¼Œä½†æ— æ³•å¤„ç†å¤æ‚çš„å†²çªï¼ˆå¦‚å¹¶å‘ä¾èµ–ï¼‰ã€‚ "},{"id":53,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/cd/argo/","title":"argo","section":"CD","content":"ä»‹ç»ä½¿ç”¨argo\n"},{"id":54,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/ci/","title":"CI","section":"äº‘åŸç”Ÿ","content":"ä»‹ç»ä½¿ç”¨argo\n"},{"id":55,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/cd/","title":"CD","section":"äº‘åŸç”Ÿ","content":"ä»‹ç»ä½¿ç”¨argo\n"},{"id":56,"href":"/docs/%E7%AE%97%E6%B3%95/%E5%88%86%E6%B2%BB%E6%B3%95/","title":"åˆ†æ²»æ³•","section":"ç®—æ³•","content":"æœ¬ç« èŠ‚ä»‹ç»è´ªå¿ƒç®—æ³•\nåŸºæœ¬æ€æƒ³ # åˆ†è§£ å°†å¤šä¸ªé—®é¢˜åˆ†æˆå¤šä¸ªè§„æ¨¡è¾ƒå°ã€ç›¸äº’ç‹¬ç«‹çš„å­é—®é¢˜ è¿™äº›å­é—®é¢˜çš„å½¢å¼ä¸åŸé—®é¢˜ç›¸ä¼¼ï¼Œä½†è§„æ¨¡è¾ƒå° è§£å†³ é€’å½’åœ°æ±‚è§£è¿™äº›å­é—®é¢˜ï¼Œç›´åˆ°é—®é¢˜çš„è§„æ¨¡è¶³å¤Ÿå°ï¼Œå¯ä»¥ç›´æ¥æ±‚è§£ï¼ˆé€šå¸¸è¾ƒå°è§„æ¨¡çš„åŸºæœ¬æƒ…å†µï¼Œå¦‚æ•°ç»„åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼‰ åˆå¹¶ å°†æ‰€æœ‰çš„å­é—®é¢˜çš„è§£åˆå¹¶æˆåŸé—®é¢˜çš„è§£ ç»å…¸åº”ç”¨ # æ’åºç®—æ³• å½’å¹¶æ’åºï¼ˆMerge Sortï¼‰ï¼šå°†æ•°ç»„æ‹†åˆ†æˆä¸¤åŠï¼Œåˆ†åˆ«æ’åºååˆå¹¶ã€‚ å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰ï¼šé€‰æ‹©ä¸€ä¸ªåŸºå‡†å€¼ï¼ˆpivotï¼‰ï¼Œå°†æ•°ç»„åˆ’åˆ†ä¸º å°äºåŸºå‡†å€¼ å’Œ å¤§äºåŸºå‡†å€¼ çš„éƒ¨åˆ†ï¼Œç„¶åé€’å½’æ’åºã€‚ è®¡ç®—æ•°å­¦ å¤§æ•´æ•°ä¹˜æ³•ï¼ˆKaratsubaç®—æ³•ï¼‰ï¼šå°†å¤§æ•´æ•°æ‹†åˆ†ä¸ºè¾ƒå°çš„éƒ¨åˆ†é€’å½’è®¡ç®—ï¼Œæé«˜ä¹˜æ³•é€Ÿåº¦ã€‚ çŸ©é˜µä¹˜æ³•ï¼ˆStrassenç®—æ³•ï¼‰ï¼šå°†çŸ©é˜µæ‹†åˆ†æˆæ›´å°çš„å­çŸ©é˜µï¼Œæé«˜è®¡ç®—æ•ˆç‡ã€‚ é€’å½’é—®é¢˜ æ±‰è¯ºå¡”é—®é¢˜ï¼šå°†é—®é¢˜åˆ†è§£ä¸ºâ€œç§»åŠ¨ n-1 å±‚ç›˜å­â€çš„é—®é¢˜é€’å½’æ±‚è§£ã€‚ æœ€å¤§å­æ•°ç»„å’Œï¼ˆåˆ†æ²»æ³•è§£æ³•ï¼‰ï¼šå°†æ•°ç»„æ‹†åˆ†ä¸ºå·¦å³ä¸¤éƒ¨åˆ†ï¼Œæ±‚è§£æœ€å¤§å­æ•°ç»„å’Œã€‚ è®¡ç®—å‡ ä½• æœ€è¿‘ç‚¹å¯¹é—®é¢˜ï¼šå°†ç‚¹é›†æŒ‰ x è½´æ‹†åˆ†ï¼Œåˆ†åˆ«è®¡ç®—æœ€è¿‘ç‚¹å¯¹ï¼Œç„¶ååˆå¹¶ç»“æœã€‚ å‡¸åŒ…é—®é¢˜ï¼šä½¿ç”¨åˆ†æ²»æ³•æ±‚è§£ç‚¹é›†ä¸­å‡¸åŒ…ã€‚ ä¼˜ç¼ºç‚¹ # ä¼˜ç‚¹\næ˜“äºç†è§£å’Œå®ç°ï¼šé€’å½’æ€æƒ³æ¸…æ™°ï¼Œä»£ç ç»“æ„å¾€å¾€ç®€å•ç›´è§‚ã€‚ é«˜æ•ˆï¼šé€šå¸¸å¯ä»¥å°†é—®é¢˜çš„æ—¶é—´å¤æ‚åº¦é™è‡³ O(n \\log n) æˆ–æ›´ä¼˜ï¼Œå¦‚ å½’å¹¶æ’åºã€å¿«é€Ÿæ’åºã€‚ é€‚ç”¨äºå¤§è§„æ¨¡é—®é¢˜ï¼šèƒ½å¤Ÿå°†å¤æ‚é—®é¢˜æ‹†è§£æˆå°é—®é¢˜ï¼Œé€‚ç”¨äº å¤§æ•°æ®å¤„ç†ã€‚ å¹¶è¡Œè®¡ç®—ï¼šè®¸å¤šåˆ†æ²»æ³•ç®—æ³•å¯ä»¥ å¹¶è¡ŒåŒ–ï¼ˆå¦‚ å¹¶è¡Œå½’å¹¶æ’åºï¼‰ï¼Œæå‡æ‰§è¡Œæ•ˆç‡ã€‚ ç¼ºç‚¹\né€’å½’è°ƒç”¨å¯èƒ½é€ æˆé¢å¤–å¼€é”€ï¼šå¦‚æœé€’å½’æ·±åº¦è¿‡å¤§ï¼Œå¯èƒ½å¯¼è‡´ æ ˆæº¢å‡ºï¼ˆStack Overflowï¼‰ã€‚ é¢å¤–çš„ç©ºé—´å¼€é”€ï¼š å½’å¹¶æ’åºéœ€è¦ é¢å¤–çš„å­˜å‚¨ç©ºé—´ï¼ˆO(n)ï¼‰æ¥å­˜å‚¨åˆå¹¶åçš„ç»“æœã€‚ å¿«é€Ÿæ’åºï¼ˆåœ¨åŸæ•°ç»„ä¸Šè¿›è¡Œï¼Œä¸éœ€è¦é¢å¤–ç©ºé—´ï¼‰ã€‚ å­é—®é¢˜å¯èƒ½ä¸æ˜¯å®Œå…¨ç‹¬ç«‹çš„ï¼š ä¾‹å¦‚ï¼ŒåŠ¨æ€è§„åˆ’ ä¹Ÿä½¿ç”¨é€’å½’ï¼Œä½†å­˜åœ¨ é‡å å­é—®é¢˜ï¼Œéœ€è¦é€šè¿‡ è®°å¿†åŒ–æœç´¢ï¼ˆMemoizationï¼‰ æˆ– é€’æ¨ è¿›è¡Œä¼˜åŒ–ã€‚ "},{"id":57,"href":"/docs/%E7%AE%97%E6%B3%95/%E4%BA%8C%E5%8F%89%E6%A0%91/","title":"äºŒå‰æ ‘","section":"ç®—æ³•","content":" æœ¬ç« èŠ‚ä»‹ç»äºŒå‰æ ‘ # äºŒå‰æ ‘çš„æ€§è´¨ # èŠ‚ç‚¹æ€»æ•°ï¼š æ·±åº¦ä¸º h çš„æ»¡äºŒå‰æ ‘æœ€å¤šæœ‰ 2^{h} - 1 ä¸ªèŠ‚ç‚¹ã€‚ é«˜åº¦ï¼ˆheightï¼‰ ä»å½“å‰èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„ä¸Šçš„è¾¹æ•° æ ¹èŠ‚ç‚¹çš„é«˜åº¦=æ•´æ£µæ ‘çš„é«˜åº¦ æ·±åº¦ï¼ˆdepthï¼‰ æ ¹èŠ‚ç‚¹çš„æ·±åº¦ä¸º0ï¼ŒæŸä¸ªèŠ‚ç‚¹çš„æ·±åº¦æ˜¯ä»æ ¹èŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹çš„è·¯å¾„é•¿åº¦ï¼ˆè¾¹çš„æ•°é‡ï¼‰ å±‚ï¼ˆlevelï¼‰ æ ¹èŠ‚ç‚¹ä¸ºç¬¬1å±‚ï¼Œå…¶å­èŠ‚ç‚¹ä¸ºç¬¬2å±‚ï¼Œä»¥æ­¤ç±»æ¨ ç‰¹æ®Šç±»å‹çš„äºŒå‰æ ‘ # æ»¡äºŒå‰æ ‘ # æ¯ä¸ªèŠ‚ç‚¹è¦ä¹ˆæœ‰0ä¸ªèŠ‚ç‚¹ï¼Œè¦ä¹ˆæœ‰2ä¸ªå­èŠ‚ç‚¹ï¼ˆä¸å­˜åœ¨åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„æƒ…å†µï¼‰ å¶å­èŠ‚ç‚¹éƒ½åœ¨åŒä¸€å±‚æˆ–è€…ä»…æ¯”æœ€åº•å±‚å°‘ä¸€å±‚ å®Œå…¨äºŒå‰æ ‘ # é™¤äº†æœ€åä¸€å±‚ï¼Œå…¶ä»–å±‚çš„èŠ‚ç‚¹å¿…é¡»æ˜¯æ»¡çš„ æœ€åä¸€å±‚çš„å¶å­èŠ‚ç‚¹å¿…é¡»é å·¦æ’åˆ— å®Œç¾äºŒå‰æ ‘ # æ‰€æœ‰çš„å¶å­èŠ‚ç‚¹å¿…é¡»å¤„äºåŒä¸€å±‚ èŠ‚ç‚¹æ•°æ»¡è¶³å…¬å¼ 2^h - 1ï¼ˆh ä¸ºé«˜åº¦ï¼‰ å¹³è¡¡äºŒå‰æ ‘ # ä»»æ„èŠ‚ç‚¹çš„å·¦å³å­æ ‘é«˜åº¦å·®ä¸è¶…è¿‡ 1 å…¸å‹ä»£è¡¨ï¼šAVL æ ‘ï¼Œçº¢é»‘æ ‘ äºŒå‰æœç´¢æ ‘ # å·¦å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹å€¼ \u0026lt; æ ¹èŠ‚ç‚¹ \u0026lt; å³å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹å€¼ ä¸­åºéå†çš„ç»“æœæ˜¯ä¸€ä¸ªé€’å¢åºåˆ— äºŒå‰å † # æœ€å°å †ï¼šçˆ¶èŠ‚ç‚¹ \u0026lt;= å­èŠ‚ç‚¹ æœ€å¤§å †: çˆ¶èŠ‚ç‚¹ \u0026gt;= å­èŠ‚ç‚¹ äºŒå‰æ ‘çš„éå†æ–¹å¼ # 1 / \\ 2 3 / \\ / \\ 4 5 6 7 / \\ / \\ / \\ / \\ 8 9 10 11 12 13 14 15 å‰åºéå† # æ ¹ â†’ å·¦å­æ ‘ â†’ å³å­æ ‘\nè®¿é—®å½“å‰èŠ‚ç‚¹ é€’å½’éå†å·¦å­æ ‘ é€’å½’éå†å³å­æ ‘ [1, 2, 4, 8, 9, 5, 10, 11, 3, 6, 12, 13, 7, 14, 15] å®ç°æ–¹å¼ï¼šé€’å½’/æ ˆ\né€‚ç”¨äºï¼šæ‹·è´äºŒå‰æ ‘ã€å‰ç¼€è¡¨è¾¾å¼è®¡ç®—ã€‚\nä¸­åºéå† # å·¦å­æ ‘ â†’ æ ¹ â†’ å³å­æ ‘\né€’å½’éå†å·¦å­æ ‘ è®¿é—®å½“å‰èŠ‚ç‚¹ é€’å½’éå†å³å­æ ‘ [8, 4, 9, 2, 10, 5, 11, 1, 12, 6, 13, 3, 14, 7, 15] å®ç°æ–¹å¼ï¼šé€’å½’/æ ˆ\né€‚ç”¨äºï¼šäºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰ çš„å‡åºéå†\nåç»­éå† # å·¦å­æ ‘ â†’ å³å­æ ‘ â†’ æ ¹\né€’å½’éå†å·¦å­æ ‘ é€’å½’éå†å³å­æ ‘ è®¿é—®æ ¹èŠ‚ç‚¹ [8, 9, 4, 10, 11, 5, 2, 12, 13, 6, 14, 15, 7, 3, 1] å®ç°æ–¹å¼ï¼šé€’å½’/ä¸¤ä¸ªæ ˆ\né€‚ç”¨äºï¼šåˆ é™¤èŠ‚ç‚¹ã€è®¡ç®—æ ‘çš„é«˜åº¦ã€‚\nå±‚åºéå† # ä¾æ¬¡è®¿é—®æ¯ä¸€å±‚çš„èŠ‚ç‚¹ï¼Œä»ä¸Šåˆ°ä¸‹ï¼Œä»å·¦åˆ°å³ é€‚ç”¨äºï¼šæœ€çŸ­è·¯å¾„æœç´¢ï¼ˆå¦‚ BFS ç®—æ³•ï¼‰\n"},{"id":58,"href":"/docs/%E4%BA%91%E5%8E%9F%E7%94%9F/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86/","title":"æƒé™ç®¡ç†","section":"äº‘åŸç”Ÿ","content":"ä»‹ç»ä½¿ç”¨Keycloak + OIDC\n"}]
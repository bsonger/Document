---
title: "回溯"
weight: 3
bookCollapseSection: true
---

本章节介绍回溯方法

## 基本思想
- 尝试构建解（探索）
- 如果不满足条件，则回退（回溯）
- 如果满足条件，则记录解


## 步骤
- 选择（Choose）：尝试做出选择，向解空间深处探索。
- 约束（Constraint）：检查当前选择是否满足问题约束条件，若不满足则回退。
- 撤销（Unchoose）：如果该选择导致后续无解，则撤销选择，回到上一步。

## 优缺点
优点
- 易于实现：代码结构清晰，递归思维自然适配回溯法。
- 能求所有解：适用于组合、排列、子集问题，能遍历所有可能方案。
- 适用于树形结构问题：如决策树、DFS 搜索路径。
- 可以结合剪枝优化：如 used[] 记录状态、提前终止无效搜索。
缺点
- 时间复杂度高：
  - 组合：O(C(n, k)) ≈ 指数级
  - 排列：O(n!)（非常高）
  - 迷宫：最坏 O(4^n)（四个方向尝试）
- 重复计算：
  - 例如编辑距离计算，回溯会重复计算子问题，导致超时。
  - 优化：记忆化搜索 + 剪枝。
- 不适合大规模数据：
  - 搜索空间太大时，直接超时！
  - 需要优化，如 剪枝、DP 代替回溯。